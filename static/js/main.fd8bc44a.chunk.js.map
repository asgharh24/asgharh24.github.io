{"version":3,"sources":["Components/Rainbowpresence.jsx","Context.js","Components/RainbowLogin.jsx","images/118.png","Components/RainbowContacts.jsx","Components/constants.js","Components/helperfunctions.js","Components/objects.js","Components/TimerComponent.jsx","Components/AgentStateCard.jsx","Components/QueuesDialog.jsx","Components/UnavailableDialog.jsx","Components/SetOutComes.jsx","Components/VurellaACD.jsx","Components/Main.jsx","images/vurellaSM.png","App.js","serviceWorker.js","index.js"],"names":["makeStyles","theme","root","flexGrow","margin","spacing","width","Context","React","createContext","useStyles","position","display","height","justifyContent","alignItems","backgroundColor","Loginpaper","padding","textAlign","color","RainbowLogin","props","useContext","setUserAccount","useState","initState","btnState","setBtnState","errorOpen","setErrorOpen","errorMsg","setErrorMsg","classes","Alert","elevation","variant","handleErrorClose","event","reason","className","Paper","onSubmit","preventDefault","uname","target","elements","username","value","pass","password","exten","console","log","rainbowSDK","connection","signinOnRainbowOfficial","then","account","contacts","getConnectedUser","phoneInternalNumber","userAccount","firstname","userData","firstName","lastname","lastName","extension","rainbowlogged","acdloggedin","onChange","catch","err","label","Grid","item","src","TextField","id","required","type","Button","disabled","hidden","CircularProgress","Snackbar","open","autoHideDuration","onClose","severity","RainbowContacts","userObj","setUser","useEffect","usersFound","getAll","length","forEach","user","List","dense","style","overflowY","map","currentUser","ListItem","ListItemAvatar","Avatar","ListItemText","primary","secondary","ListItemSecondaryAction","IconButton","edge","aria-label","onClick","webRTC","callInAudio","num","telephony","callByNumber","res","callObj","getActiveCall","release","releaseCall","jsMessageType","Object","freeze","LOGIN","LOGOUT","HRT_BEAT","LOGIN_RESPONSE","LOGIN_RESPONSE_AGENT","REQUEST_SETTINGS","LOGOUT_SUCCESS","AGENT_STATE","SET_AUTOANSWER","SET_AVAILABILITY","SET_RAISEHAND","INVALID_PARAM","INVALID_AGENT","AGENT_ROUTING_STATU","GROUP_CALL_RINGING","GROUP_CALL_CONNECTED","SET_LOGIN","FORCED_LOGOUT","GROUP_CALL_DISCONNECTED","END_WRAPUPTIME","SET_WRAPUPTIME","AGENTSTATUS_LIST","ABSENCE_LIST","QUEUE_CHANGE","AGENT_CHANGE","INVALID_OPERATION","SET_OUTCOME","SET_OUTCOME_RESPONSE","SET_AGENT_QUEUES_AVAILABILITY","QUEUESTATUS_LIST","agentStatuses","Offline","Available","Clerical_Work","Temp_Absent","Not_Answered","Ringing_IN_ACD","ACD_Busy","Idle","Non_Acd_Busy","Being_Routed","Faulty","Busy_OutgoingDialing","Not_Available","Busy_OutboundCall","Non_Acd_Ringing","Acd_OnHold","Non_Acd_OnHold","Ringing_IN_ACD_Callback","ACD_Busy_Callback","Acd_OnHold_Callback","ACD_Login","None","Custom_Transfer_ACD","Custom_Transfer_Other","Custom_Call_Hold","Custom_Call_UnHold","Custom_Call_ReleaseByAgent","messageQueue","sendMsgToServer","channel","msg","message","JSON","stringify","channels","createItem","currentMsgID","processMsg","d","Date","getTime","push","deleteItem","channelId","resp","interval","SettingsACD","AbsenseReasons","PrimaryOutcomeTitle","SecondaryOutcomeTitle","PrimaryOutcomeEnable","SecondaryOutcomeEnable","PrimaryOutComes","Id","Code","Title","SecondaryOutComes","AgentGroupInfo","Name","SkillLevel","IsAvailable","QueueAbr","Color","GroupNumber","AgentId","QueueId","AgentState","LoggedinTime","IsLoggedin","RaiseHandTime","RaiseHand","AvailabilityTime","UnAvailabilityReason","RemoteId","AgentExtension","AutoAnswer","LogoutRinging","Direction","OtherParty","CallType","LastGroupName","LastGroupNumber","CallerNumber","CSTACallID","PhoneExtension","AcdBusyStartTime","LastStateTime","Gender","Email","ImagePath","Error","AssociatedGroups","WrapUp_Remaining","LoginResponse","AccountID","IsSuccess","RemoteID","AgentStatus","GroupCallRinging","SipProfileNumber","LastDivertTo","GroupName","CallTime","CallID","AgentCallID","TimerComponent","seconds","setSeconds","min","setMinutes","hr","setHours","timerState","hours","setInterval","clearInterval","Fragment","divider","marginBottom","callID","onTelephonyVoipChangedEvent","detail","status","onTelephonyChangedEvent","AgentStateCard","window","setTimerState","state","document","addEventListener","RAINBOW_ONTELEPHONYCALLSTATECHANGED","RAINBOW_ONVOIPCALLSTATECHANGED","Card","raised","CardHeader","avatar","title","Typography","Divider","subheader","action","answer","groupCR","CardContent","btnDiv","button","QueuesDialog","groupState","isChecked","setChecked","handleSwitchChange","name","checked","Dialog","aria-labelledby","fullWidth","maxWidth","DialogTitle","fontSize","FormControl","component","FormGroup","group","index","paddingRight","Switch","formControl","selectEmpty","marginTop","UnavailableDialog","absenseReasons","settings","selected","setSelected","Select","labelId","MenuItem","callOutCome","setCallOutCome","marginLeft","outComes","initOutCome","primaryOutCome","secondaryOutCome","SetOutComes","outComeData","InputLabel","filter","getSecondaryOutComes","timerId","myChannelObject","myChannelID","myExtension","LoggedInAcdServer","LoggedInAcdServerTime","Current_AgentState","outComeEnable","primaryOC","secondaryOC","currentCallDetail","CLI","DDI","StartTime","EndTime","initialValue","Card_RH","Card_Queues","VurellaACD","agentState","setAgentState","groupCallRinging","setGroupCallRinging","loginResponse","setLoginResponse","agentGroups","setAgentGroups","raiseHand","setRaiseHand","openQueueDialog","setOpenQueueDialog","openUnavailableDialog","setOpenUnavailableDialog","setAbsenseReasons","countDown","setCountDown","onChannelMessageReceived","channelID","toLocaleString","fetchItems","response","processMessageQueue","serverResponse","entry","search","shift","jsonMessage","parse","slice","Type","Value","timestamp","CountDownTimer","mesg","CreationTime","clearTimeout","setTimeout","endTime","PrimaryOutcome","SecondaryOutcome","startTime","sendUnavailableMsg","IsLogin","counter","x","RAINBOW_ONCHANNELMESSAGERECEIVED","fetchChannelsByName","subscribeToChannelById","UFID","Username","Password","IsSuperVisor","channelobject","channelid","loginVACD","container","xs","cursor","EndWrapUp","UnAvilabilityReason","Groups","sendAgentGroupsMsg","isAgentHidden","isContactsHidden","bottomNav","bottom","header","maxHeight","paper","menuButton","Main","setValue","AppBar","Toolbar","signout","rainbowloggedin","signOut","BottomNavigation","newValue","BottomNavigationAction","icon","onReady","App","loginState","setLoginState","setInitState","initialize","RAINBOW_ONREADY","load","handleStateChange","newState","Provider","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","body","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.fd8bc44a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport { TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: '5px',\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst handleClick = (event) => {\r\n  let status = event.target.id;\r\n  console.log(\"Log\" + status);\r\n  // if(rainbowSDK.RAINBOW_ONSTARTED)\r\n  //{\r\n  switch (event.target.id) {\r\n    case \"1\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_ONLINE\r\n      );\r\n      break;\r\n    case \"2\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_AWAY\r\n      );\r\n      break;\r\n    case \"3\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_DONOTDISTURB\r\n      );\r\n      break;\r\n    case \"4\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_OFFLINE\r\n      );\r\n      break;\r\n  }\r\n  //}//\r\n};\r\nexport default function Rainbowpresence() {\r\n  const cclasses = useStyles();\r\n  return (\r\n    <div className={cclasses.root}>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"1\"\r\n        onClick={handleClick}\r\n      >\r\n        Online\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"2\"\r\n        onClick={handleClick}\r\n      >\r\n        Away\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"3\"\r\n        onClick={handleClick}\r\n      >\r\n        Do Not Disturb\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"4\"\r\n        onClick={handleClick}\r\n      >\r\n        Invisible\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const Context = React.createContext();","import React, {useState,useEffect,useContext} from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  CircularProgress,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport vurellaACD from \"../images/118.png\";\r\nimport {Context} from \"../Context.js\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position:'relative',\r\n    display:'flex',\r\n    height:'100vh',\r\n    justifyContent: 'center',\r\n    alignItems:'center',\r\n\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"27ch\",\r\n      backgroundColor:'#607d8b',\r\n    },\r\n  },\r\n  Loginpaper: {\r\n    position:'relative',\r\n    flexGrow: 1,\r\n    padding: theme.spacing(4),\r\n    margin: theme.spacing(4),\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    color: '#b3e5fc',\r\n    height: 380 + \"px\",\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function RainbowLogin(props) {\r\n  const [userAccount,setUserAccount] = useContext(Context);\r\n  const [btnState, setBtnState] = useState(props.initState);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const classes = useStyles();\r\n  \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n  \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n      setBtnState(true);\r\n      let uname = event.target.elements.username.value;\r\n      let pass = event.target.elements.password.value;\r\n      var exten = '';\r\n      console.log(uname);\r\n      console.log(pass);\r\n      rainbowSDK.connection\r\n        .signinOnRainbowOfficial(uname, pass)\r\n        .then(function (account) {\r\n          console.log(\"LOGIN SUCCESSFUL\");\r\n          //window.account = account;\r\n          exten = rainbowSDK.contacts.getConnectedUser().phoneInternalNumber;\r\n          setUserAccount(userAccount =>({...userAccount,firstname:account.userData.firstName,lastname:account.userData.lastName,extension:exten,rainbowlogged:true,acdloggedin:false}));\r\n          props.onChange(true); \r\n         \r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n          setBtnState(false);\r\n          setErrorOpen(true);\r\n          setErrorMsg(err.label);\r\n          props.onChange(false);\r\n        });\r\n        \r\n        \r\n      };\r\n     \r\n\r\n  // useEffect(() => {\r\n  //   console.log('UseEffect RainBow Login');\r\n  //   window.addEventListener(rainbowSDK.RAINBOW_ONSIGNED, onSigned);\r\n\r\n  //   return () =>{\r\n  //     window.remove\r\n  //   }\r\n  //     },[]);\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n          <Paper className={classes.Loginpaper}>\r\n            <form onSubmit={handleSubmit}>\r\n              <Grid>\r\n                <Grid item>\r\n                  <img src={vurellaACD} />\r\n                </Grid>\r\n                <Grid item>\r\n                  <TextField\r\n                    id=\"username\"\r\n                    label=\"Username\"\r\n                    variant=\"outlined\" \r\n                    required\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <TextField\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button disabled={btnState} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                    Login\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                <div hidden={!btnState}>\r\n                <CircularProgress/>\r\n                </div>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Paper>\r\n          <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n          <Alert onClose={handleErrorClose} severity=\"error\">\r\n          Login to Rainbow Failed with error: {errorMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n        </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAABjCAYAAAAsPxoWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI0RjQ3ODE2NEMxMUVCQjEyN0U3N0Q3REU0QkUxQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI0RjQ3OTE2NEMxMUVCQjEyN0U3N0Q3REU0QkUxQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFCQjRGNDc2MTY0QzExRUJCMTI3RTc3RDdERTRCRTFCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFCQjRGNDc3MTY0QzExRUJCMTI3RTc3RDdERTRCRTFCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwv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\"","import React, { useEffect, useState } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport HeadsetIcon from \"@material-ui/icons/Headset\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: \"5px\",\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst makeCall = (num) => {\r\n  //if(callId!=null)\r\n  rainbowSDK.telephony.callByNumber(num).then(function (res) {\r\n    console.log(\"Make Call Result\" + res.label);\r\n  });\r\n};\r\nlet releaseCall = () => {\r\n  var callObj = rainbowSDK.telephony.getActiveCall();\r\n\r\n  if (callObj != null) {\r\n    rainbowSDK.telephony.release(callObj);\r\n  } else console.log(\"No Active Call\");\r\n};\r\n\r\n\r\n\r\nexport default function RainbowContacts() {\r\n  const cclasses = useStyles();\r\n  const [userObj, setUser] = useState([]);\r\n  const [callId, setCallId] = useState(null);\r\n  const [callState, setCallState] = useState(\"unknown\");\r\n\r\n  const onCallEvent = function (event) {\r\n    let acc = event.detail;\r\n    console.log(\"Call Event Fired-\" + acc);\r\n\r\n    setCallState(event.detail.status);\r\n    //  switch (acc.status.value)\r\n    //  {\r\n    //     case \"dialing\":\r\n    //       setCallState(a)\r\n    //  }\r\n  };\r\n  const onWebRTCEvent = function (event) {\r\n    console.log(\"Event Fired\");\r\n    let acc = event.detail;\r\n    //console.log(\"On Call Event-\"+\" STATUS:\"+acc.status.value +\"ID:\"+acc.id);\r\n    console.log(\"On WebRTC Event-\" + acc);\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    var usersFound = rainbowSDK.contacts.getAll();\r\n    console.log(\"UseEffect\");\r\n    if (usersFound.length > 0) {\r\n      usersFound.forEach(function (user) {\r\n        if (user.firstname != \"\" && user.firstname != null) setUser((userObj) => [...userObj, user]);\r\n\r\n        console.log(\r\n          \"Name: \" +\r\n            user.firstname +\r\n            \" \" +\r\n            user.lastname +\r\n            \" Internal Ext: \" +\r\n            user.phoneInternalNumber\r\n        );\r\n      });\r\n    }\r\n    // document.addEventListener(\r\n    //   rainbowSDK.telephony.RAINBOW_ONTELEPHONYCALLSTATECHANGED,\r\n    //   onCallEvent\r\n    // );\r\n    // document.addEventListener(\r\n    //   rainbowSDK.webRTC.RAINBOW_ONWEBRTCCALLSTATECHANGED,\r\n    //   onWebRTCEvent\r\n    // );\r\n  }, []);\r\n\r\n  return (\r\n    <List dense=\"false\" style={{overflowY:'scroll', height:'80vh'}}>\r\n      {userObj.map((currentUser) => (\r\n        <ListItem>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <PersonIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n\r\n          <ListItemText\r\n            primary={currentUser.firstname + \" \" + currentUser.lastname}\r\n            secondary={currentUser.phoneInternalNumber}\r\n          />\r\n          <ListItemSecondaryAction>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => rainbowSDK.webRTC.callInAudio(currentUser)}\r\n            >\r\n              <HeadsetIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              style={{ color: \"green\" }}\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => makeCall(currentUser.phoneInternalNumber)}\r\n            >\r\n              <PhoneIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => releaseCall()}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","export const jsMessageType = Object.freeze({\r\n    LOGIN: 'LOGIN',\r\n    LOGOUT: 'LOGOUT',\r\n    HRT_BEAT: 'HRT_BEAT',\r\n    LOGIN_RESPONSE: 'LOGIN_RESPONSE',\r\n    LOGIN_RESPONSE_AGENT: 'LOGIN_RESPONSE_AGENT',\r\n    REQUEST_SETTINGS: 'REQUEST_SETTINGS',\r\n    LOGOUT_SUCCESS: 'LOGOUT_SUCCESS',\r\n    AGENT_STATE: 'AGENT_STATE',\r\n    SET_AUTOANSWER: 'SET_AUTOANSWER',\r\n    SET_AVAILABILITY: 'SET_AVAILABILITY',\r\n    SET_RAISEHAND: 'SET_RAISEHAND',\r\n    INVALID_PARAM: 'INVALID_PARAM',\r\n    INVALID_AGENT: 'INVALID_AGENT',\r\n    AGENT_ROUTING_STATU: 'AGENT_ROUTING_STATUS',\r\n    GROUP_CALL_RINGING: 'GROUP_CALL_RINGING',\r\n    GROUP_CALL_CONNECTED: 'GROUP_CALL_CONNECTED',\r\n    SET_LOGIN: 'SET_LOGIN',\r\n    FORCED_LOGOUT: 'FORCED_LOGOUT',\r\n    GROUP_CALL_DISCONNECTED: 'GROUP_CALL_DISCONNECTED',\r\n    END_WRAPUPTIME: 'END_WRAPUPTIME',\r\n    SET_WRAPUPTIME: 'SET_WRAPUPTIME',\r\n    AGENTSTATUS_LIST: 'AGENTSTATUS_LIST',\r\n    ABSENCE_LIST: 'ABSENCE_LIST',\r\n    QUEUE_CHANGE: 'QUEUE_CHANGE',\r\n    AGENT_CHANGE: 'AGENT_CHANGE',\r\n    INVALID_OPERATION: 'INVALID_OPERATION',\r\n    SET_OUTCOME: 'SET_OUTCOME',\r\n    SET_OUTCOME_RESPONSE: 'SET_OUTCOME_RESPONSE',\r\n    SET_AGENT_QUEUES_AVAILABILITY: 'SET_AGENT_QUEUES_AVAILABILITY',\r\n    QUEUESTATUS_LIST: 'QUEUESTATUS_LIST',\r\n\r\n})\r\n\r\nexport const agentStatuses = Object.freeze({\r\n    Offline: 0,\r\n    Available : 1,\r\n    Clerical_Work : 2,\r\n    Temp_Absent : 3,\r\n    Not_Answered : 4,\r\n    Ringing_IN_ACD : 5,\r\n    ACD_Busy : 6,\r\n    Idle : 7,\r\n    Non_Acd_Busy : 8,\r\n    Being_Routed : 9,\r\n    Faulty : 10,       \r\n    Busy_OutgoingDialing : 11,\r\n    Not_Available : 12,\r\n    Busy_OutboundCall : 13,\r\n    Non_Acd_Ringing : 14,\r\n    Acd_OnHold : 15,\r\n    Non_Acd_OnHold : 16,\r\n    Ringing_IN_ACD_Callback : 17,\r\n    ACD_Busy_Callback : 18,\r\n    Acd_OnHold_Callback : 19,\r\n    ACD_Login : 20,\r\n    None :49,\r\n    Custom_Transfer_ACD : 50,\r\n    Custom_Transfer_Other : 51,\r\n    Custom_Call_Hold : 52,\r\n    Custom_Call_UnHold : 53,\r\n    Custom_Call_ReleaseByAgent : 54,\r\n        \r\n})","import rainbowSDK from \"rainbow-web-sdk\";\r\n\r\nexport var messageQueue = [];\r\n\r\nexport function sendMsgToServer(channel,msg){\r\n          \r\n          if(channel !=\"\")\r\n          {\r\n            //console.log(\"ChannnelID\"+channel);\r\n          var message = \"#AGENT#\" + JSON.stringify(msg);\r\n          var title = \"vACD\";\r\n          var url = \"\";\r\n          var type = \"basic\";\r\n           // console.log(msg);\r\n          rainbowSDK.channels\r\n            .createItem(channel, message, title, url, type)\r\n            .then(() => console.log(\"Message Posted On Channel\"))\r\n            .catch((err) => console.log(\"Error Posting Message:\"+err) /*something went wrong*/);\r\n          }\r\n}\r\n\r\n\r\nvar currentMsgID = '';\r\nexport function getMsgFromServer(channelID)\r\n{\r\n    //console.log(channelID);\r\n     return rainbowSDK.channels.fetchItems(channelID).then(function (response){\r\n        if(response.length>0)\r\n        {\r\n          if(currentMsgID != response[0].id)\r\n          {\r\n            currentMsgID = response[0].id;\r\n          //window.response = response;\r\n          response.forEach(processMsg)\r\n          }\r\n        }\r\n       \r\n     })\r\n     .catch((err)=> console.log(\"Error fetching message: \"+ err));\r\n    \r\n}\r\n\r\nfunction processMsg(item)\r\n{\r\n\r\n  let d = new Date();\r\n  console.log(\"Message Fetched: \"+item.id+\" @ \"+d.getTime());\r\n  messageQueue.push(item);\r\n  rainbowSDK.channels.deleteItem(item.channelId,item.id).then(function (resp){\r\n  let d = new Date();\r\n  console.log(\"Message Deleted Successfully:\"+ item.id+ \" @ \"+d.getTime());\r\n  })\r\n  .catch((err) => \r\n    {\r\n      let d = new Date();\r\n      console.log(\"Error Deleting Message: \"+item.id+ \"---\" + err+ \" @ \"+d.getTime())\r\n    });\r\n\r\n}\r\n\r\nexport function deleteMsgFromServer(channelID,itemID)\r\n{\r\n        rainbowSDK.channels.deleteItem(channelID,itemID).then(function (response){\r\n          console.log(\"Message Deleted Successfully\");\r\n          \r\n        })\r\n        .catch((err) => console.log(\"Error Deleting Message: \" + err));\r\n}","import {agentStatus, agentStatuses} from \"./constants\";\r\n\r\nexport var CallDetails = {\r\nCLI:'',\r\nDDI:'',\r\nStartTime:'',\r\nEndTime:'',\r\n};\r\nexport var SecondaryOutcomes = {\r\n    Id:'',\r\n    Code:'',\r\n    Title:'',\r\n};\r\n\r\nexport var PrimaryOutcomes = {\r\n    Id:'',\r\n    Code:'',\r\n    Title:'',\r\n    SecondaryOutComes:[SecondaryOutcomes]\r\n};\r\n\r\nexport var SettingsACD = {\r\n    AbsenseReasons:[],\r\n    PrimaryOutcomeTitle:'',\r\n    SecondaryOutcomeTitle:'',\r\n    PrimaryOutcomeEnable:'',\r\n    SecondaryOutcomeEnable:'',\r\n    PrimaryOutComes:[PrimaryOutcomes],\r\n};\r\n//const newACDSettings = new ACDSettings();\r\n\r\nexport var AgentGroupInfo = {\r\n    Name:'',\r\n    SkillLevel:'',\r\n    IsAvailable:'',\r\n    QueueAbr:'',\r\n    Color:'',\r\n    GroupNumber:'',\r\n    AgentId:'',\r\n    QueueId:''\r\n};\r\n\r\nexport var AgentState = {\r\n    LoggedinTime: 0,\r\n    IsLoggedin:'false',\r\n    RaiseHandTime:0,\r\n    RaiseHand:false,\r\n    AvailabilityTime:0,\r\n    IsAvailable:true,\r\n    UnAvailabilityReason:'',\r\n    RemoteId:'',\r\n    AgentState: agentStatuses.Not_Available,\r\n    AgentExtension:'',\r\n    AutoAnswer:false,\r\n    LogoutRinging:'false',\r\n    Direction:'',\r\n    OtherParty:'',\r\n    CallType:'I',\r\n    LastGroupName:'',\r\n    LastGroupNumber:'',\r\n    CallerNumber:'',\r\n    CSTACallID:'',\r\n    PhoneExtension:'',\r\n    AcdBusyStartTime:'',\r\n    LastStateTime:'',\r\n    Name:'',\r\n    Gender:'',\r\n    Email:'',\r\n    ImagePath:'',\r\n    Error:'',\r\n    AssociatedGroups:[AgentGroupInfo],\r\n    WrapUp_Remaining:''\r\n};\r\n\r\nexport var LoginResponse = {\r\n    AccountID:0,\r\n    AgentExtension:'',\r\n    PhoneExtension:'',   \r\n    IsSuccess:false,\r\n    Error:'',\r\n    RemoteID: '',\r\n    SettingsACD:SettingsACD,\r\n    AgentStatus:AgentState,\r\n};\r\n\r\nexport var GroupCallRinging = {\r\n    AgentExtension: '',\r\n    PhoneExtension: '',\r\n    GroupNumber: '',\r\n    SipProfileNumber: '',\r\n    LastDivertTo: null,\r\n    GroupName:'',\r\n    CallerNumber:'',\r\n    CallTime:'',\r\n    RemoteID:'',\r\n    CallID:0,\r\n    AgentCallID:0,\r\n    CSTACallID:'',\r\n}\r\n","import React, {useState,useEffect} from \"react\"\r\n\r\n\r\nvar interval;\r\n\r\nexport default function TimerComponent(props)\r\n{\r\n    //console.log(\"TimerComponent Fired\");\r\n    const [seconds, setSeconds] = useState(0);\r\n    const [min, setMinutes] = useState(0);\r\n    const [hr, setHours] = useState(0);\r\n    //const [isActive, setIsActive] = useState(props.timerState);\r\n    \r\n    function calculateTime(){\r\n    if (props.timerState) {\r\n     \r\n        \r\n\r\n      if (seconds == 60) {\r\n        setMinutes(min => min + 1);\r\n        setSeconds(0);\r\n      }\r\n      if (min == 60) {\r\n        setHours(hours => hours + 1);\r\n        setMinutes(0);\r\n        setSeconds(0);\r\n\r\n      }\r\n\r\n      interval = setInterval(() => {\r\n        setSeconds(seconds => seconds + 1);\r\n      }, 1000);\r\n    } else if (!props.timerState && seconds !== 0) {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\nuseEffect(() => {\r\n    \r\n    \r\n    calculateTime();\r\n\r\n    return () => {\r\n        if(!props.timerState){\r\n        clearInterval(interval);\r\n        //console.log(\"Timer Interval Cleared\")\r\n        }\r\n    }\r\n  }, [props.timerState]);\r\n\r\nreturn (\r\n<React.Fragment>\r\n    {(hr<10 || hr==0) ? '0'+hr:hr}:{(min<10 || min==0) ? '0'+min:min}:{(seconds<10 || seconds==0) ? '0'+seconds:seconds}\r\n</React.Fragment>\r\n);\r\n\r\n}","import React, { useEffect, useState, } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Avatar,\r\n  IconButton,\r\n  Typography,\r\n  CardHeader,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport RingingInIcon from \"@material-ui/icons/ArrowForward\";\r\nimport RingingOutIcon from \"@material-ui/icons/ArrowBack\";\r\nimport LineIcon from \"@material-ui/icons/Remove\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport DialIcon from \"@material-ui/icons/Phone\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {agentStatuses } from \"./constants.js\";\r\nimport TimerComponent from \"./TimerComponent.jsx\";\r\n\r\n\r\nvar inComingCall = false;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    divider: {\r\n        backgroundColor:\"white\",\r\n        marginBottom:\"5px\",\r\n    },\r\n  }));\r\n  \r\n  var callID = null; \r\n  var answerBtn = false;\r\n  var hangupBtn = false;\r\nconst onTelephonyVoipChangedEvent = function(event)\r\n{\r\n  console.log(\"Telephony Voip State Changed Event\"+\"ID: \"+event.detail.id+\" Status:\"+event.detail.status.value+\" Type:\"+event.detail.type.value);\r\n  if(event.detail.status.value=='incommingCall' && event.detail.type.value==\"Phone\")\r\n  {\r\n    callID = event.detail;\r\n   // console.log(\"Call ID is: \"+callID);\r\n    answerBtn = true;\r\n    hangupBtn = false;\r\n    //rainbowSDK.webRTC.answerInAudio(event.detail);\r\n  }\r\n  //if(event)\r\n}\r\nconst onTelephonyChangedEvent = function(event)\r\n{\r\n  console.log(\"Telephony State Changed Event\"+\"ID: \"+event.detail.id+\" Status:\"+event.detail.status.value+\" Type:\"+event.detail.type.value);\r\n  if(event.detail.status.value=='incommingCall' && event.detail.type.value==\"Phone\")\r\n  {\r\n    callID = event.detail;\r\n    console.log(\"Call ID is: \"+callID);\r\n    //rainbowSDK.webRTC.answerInAudio(event.detail);\r\n  }\r\n  if(event.detail.status.value==\"active\" && event.detail.type.value==\"Phone\")\r\n  {\r\n      callID = event.detail;\r\n      answerBtn = false;\r\n      hangupBtn = true;\r\n\r\n  }\r\n  if(event.detail.status.value == \"Unknown\" && event.detail.type.value==\"Phone\")\r\n  {\r\n    //callID = null;\r\n    answerBtn = false;\r\n    hangupBtn = false;\r\n  }\r\n  \r\n}\r\n\r\nexport default function AgentStateCard(props) {\r\n    \r\n    const classes = useStyles();\r\n     \r\n    window.props = props;\r\n    const [timerState, setTimerState] = useState(false);\r\n    \r\n   \r\n\r\n    useEffect(() => {\r\n        if(props.state.AgentState == agentStatuses.Non_Acd_Busy || props.state.AgentState == agentStatuses.ACD_Busy || props.state.AgentState == agentStatuses.ACD_Busy_Callback)\r\n            setTimerState(true);\r\n            //timerState = true;\r\n        return () => {\r\n\r\n            setTimerState(false);\r\n            //timerState = false;\r\n        }\r\n    }, [props.state.AgentState]);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(rainbowSDK.telephony.RAINBOW_ONTELEPHONYCALLSTATECHANGED, onTelephonyChangedEvent);\r\n        document.addEventListener(rainbowSDK.telephony.RAINBOW_ONVOIPCALLSTATECHANGED, onTelephonyVoipChangedEvent);\r\n    },[]);\r\n    \r\n    return(\r\n        <Card raised=\"true\" style={{backgroundColor:'#757575'}}>\r\n        {\r\n        (props.state.AgentState==agentStatuses.Not_Available || props.state.AgentState==agentStatuses.Temp_Absent) &&(\r\n            <CardHeader \r\n            avatar={<Avatar style={{backgroundColor:'red'}}>                      \r\n                            <LineIcon/>\r\n                        </Avatar>}\r\n                        title={\r\n                        <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Unavailable\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                        </Typography>\r\n                        }\r\n                        subheader={\r\n                            <>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.Name}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.AgentExtension}\r\n                            </Typography>\r\n                            </>\r\n                        }\r\n            />) ||\r\n        (props.state.AgentState==agentStatuses.Idle || props.state.AgentState==agentStatuses.Available) &&(\r\n        <CardHeader \r\n        avatar={<Avatar style={{backgroundColor:'green'}}>                      \r\n                        <CheckIcon/>\r\n                    </Avatar>}\r\n                    title={\r\n                    <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                        Available\r\n                        <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                    </Typography>\r\n                    }\r\n                    subheader={\r\n                    <>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        {props.state.Name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        {props.state.AgentExtension}\r\n                    </Typography>\r\n                    </>\r\n                    }\r\n        />) ||\r\n        (props.state.AgentState==agentStatuses.Clerical_Work) &&(\r\n            <CardHeader \r\n            avatar={<Avatar style={{backgroundColor:'blue'}}>                      \r\n                            <LineIcon/>\r\n                        </Avatar>}\r\n                        title={\r\n                        <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Preparation\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                        </Typography>\r\n                        }\r\n                        subheader={\r\n                            <>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.Name}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.AgentExtension}\r\n                            </Typography>\r\n                            </>\r\n                        }\r\n            />) ||\r\n            (props.state.AgentState==agentStatuses.Ringing_IN_ACD || props.state.AgentState==agentStatuses.Ringing_IN_ACD_Callback) &&(\r\n                <CardHeader \r\n                avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                <RingingInIcon/>\r\n                            </Avatar>}\r\n                    action ={<React.Fragment><IconButton onClick={()=>{rainbowSDK.telephony.answer(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'green'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                            title={\r\n                            <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                Ringing\r\n                                <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                            </Typography>\r\n                            }\r\n                            subheader={\r\n                                <>\r\n                                <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                    {props.groupCR.GroupName}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                    Duration 00:00:00\r\n                                </Typography>\r\n                                </>\r\n                            }\r\n                />) ||\r\n                (props.state.AgentState==agentStatuses.Non_Acd_Ringing || props.state.AgentState==agentStatuses.Busy_OutboundCall) &&(\r\n                    <CardHeader \r\n                    avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                    {props.state.Direction=='I' ? <RingingInIcon/> : <RingingOutIcon/>}\r\n                                </Avatar>}\r\n                    action ={(props.state.Direction=='I') && (<React.Fragment><IconButton onClick={()=>{rainbowSDK.telephony.answer(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'green'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>)}\r\n                                title={\r\n                                <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                    Ringing\r\n                                    <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                </Typography>\r\n                                }\r\n                                subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Internal\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration 00:00:00\r\n                                    </Typography>\r\n                                    </>\r\n                                }\r\n                    />) ||\r\n                (props.state.AgentState==agentStatuses.ACD_Busy || props.state.AgentState==agentStatuses.ACD_Busy_Callback) &&(\r\n                    <CardHeader \r\n                    avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                    <CheckIcon/>\r\n                                </Avatar>}\r\n                    action ={<React.Fragment><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton onClick={()=>{rainbowSDK.telephony.release(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'red'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                                title={\r\n                                <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                    Connected\r\n                                    <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                </Typography>\r\n                                }\r\n                                subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.groupCR.GroupName}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration <TimerComponent timerState={timerState}/>\r\n                                    </Typography>\r\n                                    </>\r\n                                }\r\n                    />)||\r\n                    (props.state.AgentState==agentStatuses.Non_Acd_Busy) &&(\r\n                        <CardHeader \r\n                        avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                        <CheckIcon/>\r\n                                    </Avatar>}\r\n                        action ={<React.Fragment><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton onClick={()=>{rainbowSDK.telephony.release(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'red'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                                    title={\r\n                                    <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                        Connected\r\n                                        <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                    </Typography>\r\n                                    }\r\n                                    subheader={\r\n                                        <>\r\n                                        <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                            Internal\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration <TimerComponent timerState={timerState}/>\r\n                                        </Typography>\r\n                                        \r\n                                        </>\r\n                                    }\r\n                        />)||\r\n                        (<CardHeader avatar={\r\n                            <Avatar style={{backgroundColor:'green'}}>                      \r\n                                <CheckIcon/>\r\n                            </Avatar>}\r\n                            title={\r\n                            <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Available\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                            </Typography>\r\n                                    }\r\n                                    subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.state.Name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.state.AgentExtension}\r\n                                    </Typography>\r\n                                    </>\r\n                                    }\r\n                        />\r\n                    )\r\n        }\r\n        <CardContent>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n}","import React, { useEffect, useState, } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  Button,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  FormGroup,\r\n  Switch,\r\n  IconButton,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport QueueIcon from \"@material-ui/icons/FormatListBulleted\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiDialog-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  btnDiv: {\r\n    display: 'flex',\r\n    padding: theme.spacing(2), \r\n    width:\"70%\",\r\n    justifyContent:'center',\r\n\r\n  },\r\n  button: {\r\n\r\n    width:\"50%\",\r\n    margin: theme.spacing(1),\r\n\r\n  },\r\n}));\r\n\r\nexport default function QueuesDialog(props) {\r\n    \r\n    //console.log(\"Inside Dialog\");\r\n    //console.log(props);\r\n    const classes = useStyles();\r\n    //const { onClose, state, open } = props;\r\n    const groupState = [...props.state];\r\n    const [isChecked,setChecked] = useState([...groupState])\r\n   \r\n    useEffect(()=>{\r\n            setChecked([...groupState]);\r\n            //console.log(\"Group Set in UseEffect\");\r\n    },[props.open]);\r\n\r\n    const handleClose = () => {\r\n      props.onClose(isChecked);\r\n    };\r\n    \r\n    const handleSwitchChange = (event) => {\r\n        groupState[event.target.name].IsAvailable = event.target.checked;\r\n        setChecked([...groupState]);\r\n        //console.log(isChecked);\r\n        //onClose(value);\r\n    };\r\n       \r\n    return (\r\n        <Dialog onClose={handleClose} aria-labelledby=\"dialog-title\" open={props.open} fullWidth maxWidth=\"xs\" className={classes.root}>\r\n        <DialogTitle id=\"dialog-title\" style={{textAlign:'center'}}>\r\n        <IconButton>\r\n            <QueueIcon fontSize=\"large\" style={{color:\"#0288d1\"}}/>\r\n          </IconButton>\r\n        <Typography variant=\"h5\" style={{color:\"#0288d1\"}}>\r\n        AGENT QUEUES\r\n        </Typography>\r\n        </DialogTitle>\r\n        <FormControl component=\"fieldset\" style={{alignItems:'center'}}>\r\n            <FormGroup>\r\n               {isChecked.map((group,index)=> (\r\n                <Typography component=\"div\" style={{display:'flex', justifyContent:'space-between'}}>\r\n                <span style={{paddingRight:'2em'}}>{group.Name}</span>\r\n                <Switch checked={group.IsAvailable} onChange={handleSwitchChange} name={index}/>\r\n                </Typography>\r\n                ))}\r\n            </FormGroup>\r\n            <div className={classes.btnDiv}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(isChecked)}} className={classes.button}>Save</Button>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(null)}} className={classes.button}>Close</Button>\r\n            </div>\r\n        </FormControl>\r\n        </Dialog>\r\n    );\r\n}","import React, {useState} from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  Button,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport UnavailableIcon from \"@material-ui/icons/RemoveCircle\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiDialog-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  formControl: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(1),\r\n  },\r\n  button: {\r\n\r\n    width:\"50%\",\r\n    margin: theme.spacing(1),\r\n\r\n  },\r\n  selectEmpty: {\r\n      marginTop: theme.spacing(1),\r\n  },\r\n  btnDiv: {\r\n    display: 'flex',\r\n    padding: theme.spacing(2), \r\n    width:\"90%\",\r\n    justifyContent:'center',\r\n\r\n  }\r\n}));\r\n\r\nexport default function UnavailableDialog(props) {\r\n    \r\n    \r\n    const classes = useStyles();\r\n    const [age, setAge] = React.useState('');\r\n\r\n    const absenseReasons = props.settings;\r\n    const [selected,setSelected] = useState('');\r\n    //window.absenseReasons = absenseReasons;\r\n    // useEffect(()=>{\r\n\r\n    //         //setReason([...absenseReasons]);\r\n    //         //console.log(\"Group Set in UseEffect\");\r\n    // },[props.open]);\r\n\r\n    const handleClose = () => {\r\n      props.onClose(selected);\r\n    };\r\n    \r\n    const handleChange = (event) => {\r\n       \r\n        setSelected(event.target.value);\r\n      //console.log(isChecked);\r\n        //onClose(value);\r\n    };\r\n       \r\n    return (\r\n        <Dialog onClose={()=>handleClose()} aria-labelledby=\"dialog-title\" open={props.open} fullWidth maxWidth=\"xs\" className={classes.root}>\r\n        <DialogTitle id=\"dialog-title\" style={{textAlign:'center'}}>\r\n          <IconButton>\r\n            <UnavailableIcon fontSize=\"large\" style={{color:\"#0288d1\"}}/>\r\n          </IconButton>\r\n        <Typography variant=\"h5\" style={{color:\"#0288d1\"}}>\r\n        AVAILABILITY\r\n        </Typography>\r\n        </DialogTitle>\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <Select\r\n          labelId=\"absense-reason\"\r\n          id=\"absensereason\"\r\n          value={selected}\r\n          onChange={handleChange}\r\n          label=\"AbsenseReason\"\r\n        >\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          {absenseReasons.map((item) => (\r\n            <MenuItem value={item}>{item}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      <div className={classes.btnDiv}> \r\n      <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(selected)}} className={classes.button}>Set</Button>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose('')}} className={classes.button}>Cancel</Button>\r\n      </div>\r\n      </FormControl>\r\n       </Dialog>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    InputLabel,\r\n    Avatar,\r\n    Typography,\r\n    CardHeader,\r\n    Select,\r\n    MenuItem,\r\n    FormControl\r\n  } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {agentStatuses } from \"./constants.js\";\r\nimport QuestionMarkIcon from \"@material-ui/icons/Help\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        width:\"250px\",\r\n        //padding:theme.spacing(1),\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n\r\n  var outComes=null;\r\n  var primaryOutComeTitle = null;\r\n  var secondaryOutComeTitle = null;\r\n  let callOutCome,setCallOutCome;\r\n  let initOutCome = {primaryOutCome:'',secondaryOutCome:''};\r\n  export default function SetOutComes(props) {\r\n    const classes = useStyles();\r\n    [callOutCome, setCallOutCome] = useState(initOutCome);\r\n    \r\n    outComes = [...props.outComeData.SettingsACD.PrimaryOutComes];\r\n    primaryOutComeTitle = props.outComeData.SettingsACD.PrimaryOutcomeTitle;\r\n    secondaryOutComeTitle  = props.outComeData.SettingsACD.SecondaryOutcomeTitle;\r\n    //console.log(props.callOutCome.enable);\r\n    //window.outComes = outComes;\r\n    const handlePrimaryChange = (event) => {\r\n       //props.updateOutCome({...props.callOutCome,PrimaryOutCome:event.target.value});\r\n      setCallOutCome({...callOutCome, primaryOutCome:event.target.value});\r\n       // getSecondaryOutComes();\r\n    };\r\n    const handleSecondaryChange = (event) => {\r\n        //props.updateOutCome({...props.callOutCome,SecondaryOutCome:event.target.value});\r\n        setCallOutCome({...callOutCome, secondaryOutCome:event.target.value});\r\n     };\r\n\r\n     useEffect(() => {\r\n        console.log(\"SETOUTCOMES USE EFFECT\");\r\n        props.onChange(callOutCome);\r\n\r\n     },[callOutCome]);\r\n    const getSecondaryOutComes = () =>{\r\n        if(outComes[0].Title != '' && callOutCome.primaryOutCome != ''){\r\n        const soc = outComes.filter(({Title})=> Title===callOutCome.primaryOutCome)[0].SecondaryOutComes;\r\n  \r\n            return(\r\n                soc.map(({Title}) => (\r\n               <MenuItem value={Title}>{Title}</MenuItem>))\r\n               )\r\n        }\r\n        \r\n    };\r\n\r\n\r\n    return(\r\n        <Card raised=\"true\" style={{backgroundColor:'#757575'}}>\r\n            <CardHeader \r\n            avatar = {<Avatar>\r\n            <QuestionMarkIcon style={{fontSize:\"50px\", color:'#242526'}}/>\r\n            </Avatar>\r\n            }\r\n             title={<><div>\r\n                <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"poc\">Reason for Call</InputLabel>\r\n                <Select\r\n                labelId=\"outcome\"\r\n                id=\"callreason\"\r\n                onChange={handlePrimaryChange}\r\n                label=\"Call Outcome\"\r\n                style={{fontSize:'12px'}}\r\n                >\r\n                {outComes.map(({Title}) => (\r\n                    <MenuItem value={Title}>{Title}</MenuItem>\r\n                ))}\r\n                </Select>\r\n                </FormControl>\r\n                </div>\r\n                <div>\r\n                <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"soc\">Sub Reason</InputLabel>\r\n                <Select\r\n                labelId=\"soutcome\"\r\n                id=\"subreason\"\r\n                onChange={handleSecondaryChange}\r\n                label=\"SCall Outcome\"\r\n                style={{fontSize:'12px'}}\r\n                >\r\n                {getSecondaryOutComes()}\r\n                </Select>\r\n                </FormControl>\r\n                </div></>\r\n             }\r\n             />\r\n      </Card>\r\n    );\r\n  }","import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Snackbar,\r\n  DialogTitle,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { jsMessageType, agentStatuses } from \"./constants.js\";\r\nimport { Context } from \"../Context.js\";\r\nimport {\r\n  sendMsgToServer,\r\n  getMsgFromServer,\r\n  messageQueue,\r\n} from \"./helperfunctions.js\";\r\nimport {SettingsACD, AgentState, LoginResponse,GroupCallRinging, AgentGroupInfo, CallDetails} from \"./objects.js\"\r\nimport AgentStateCard from \"./AgentStateCard\";\r\nimport QueuesDialog from \"./QueuesDialog\";\r\nimport UnavailableDialog from \"./UnavailableDialog\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport UnavailableIcon from \"@material-ui/icons/RemoveCircle\";\r\nimport QueueIcon from \"@material-ui/icons/FormatListBulleted\";\r\nimport HandIcon from \"@material-ui/icons/PanTool\";\r\nimport TimerIcon from \"@material-ui/icons/Timer\";\r\nimport SetOutComes from \"./SetOutComes.jsx\";\r\n\r\nvar myChannelObject = null;\r\nvar myChannelID = \"\";\r\nvar myExtension = \"\";\r\nvar LoggedInAcdServer = 0;\r\nvar LoggedInAcdServerTime = \"\";\r\nvar timerId;\r\nvar Current_AgentState = AgentState;\r\nvar outComeEnable = false;\r\nvar primaryOC = '';\r\nvar secondaryOC = '';\r\nvar currentCallDetail = CallDetails;\r\nconst initialValue={primaryOutCome:'',secondaryOutCome:''};\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    //width: '90%',\r\n  },\r\n  Card_RH: {\r\n    backgroundColor:'#0288d1',\r\n    justifyContent:'center',\r\n    textAlign:'center'\r\n  },\r\n  Card_Queues: {\r\n    backgroundColor:'#0288d1',\r\n    justifyContent:'center',\r\n    textAlign:'center',\r\n  },\r\n}));\r\n\r\n\r\nexport default function VurellaACD() {\r\n  //console.log(\"VurellaACD Function Fired\");\r\n  \r\n  const [userAccount, setUserAccount] = useContext(Context);\r\n  const [agentState, setAgentState] = useState(AgentState);\r\n  const [groupCallRinging, setGroupCallRinging] = useState(GroupCallRinging);\r\n  const [loginResponse, setLoginResponse] = useState(LoginResponse);\r\n  const [agentGroups, setAgentGroups] = useState([AgentGroupInfo]);\r\n  const [callOutCome, setCallOutCome] = useState(initialValue);\r\n  const [raiseHand,setRaiseHand] = useState(false);\r\n  const [openQueueDialog,setOpenQueueDialog] = useState(false);\r\n  const [openUnavailableDialog,setOpenUnavailableDialog] = useState(false);\r\n  const [absenseReasons, setAbsenseReasons] = useState([]);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [countDown, setCountDown] = useState(\"00\");\r\n  const classes = useStyles();\r\n  \r\n  \r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  ////////////////////////////////START COMPONENT LOGIC FUNCTIONS///////////////////////////////\r\n\r\nconst onChannelMessageReceived = () => {\r\n    let d = new Date();\r\n    console.log(\"CHANNEL MESSAGE RECIEVED EVENT @ \" + d.toLocaleString());\r\n    if (myChannelID != null) {\r\n      getMsgFromServer(myChannelID).then(() => processMessageQueue());\r\n      \r\n    }\r\n  };\r\n\r\nconst loginVACD = () => {\r\n    if (myExtension != null) {\r\n      Current_AgentState = AgentState;\r\n      let extension = myExtension;\r\n      if(LoggedInAcdServer==0)\r\n      {\r\n      LoggedInAcdServer = 1;\r\n      rainbowSDK.channels\r\n        .fetchChannelsByName(\"vACD_\" + extension)\r\n        .then(function (res) {\r\n          if (res.length > 0) {\r\n            //window.res = res;\r\n            myChannelObject = res[0];\r\n            myChannelID = res[0].id;\r\n            rainbowSDK.channels.subscribeToChannelById(res[0].id).then((res)=>{\r\n              var mesg = {\r\n                Type: jsMessageType.LOGIN,\r\n                Value: {\r\n                  UFID: \"\",\r\n                  Username: extension,\r\n                  PhoneExtension: extension,\r\n                  Password: extension,\r\n                  IsSuperVisor: \"false\",\r\n                },\r\n                CreationTime: \"\",\r\n              };\r\n              console.log(\"Channel Subscribed\");\r\n              //console.log(\"ChannelID:\"+myChannelID+\" extension:\"+extension+\" mesg:\"+mesg)\r\n              setUserAccount((userAccount) => ({...userAccount,channelobject:myChannelObject,channelid:myChannelID}));\r\n              sendMsgToServer(myChannelObject, mesg);\r\n              \r\n              })\r\n              .catch((err)=>{\r\n                  console.log(\"Error Subscribing to Channel\");\r\n                  LoggedInAcdServer = 0;\r\n                  \r\n              });\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          setErrorMsg(\"Vurella ACD configuration mismatch\");\r\n          LoggedInAcdServer = 0;\r\n          \r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\nconst processMessageQueue = () => {\r\n  while (messageQueue.length > 0) {\r\n    //window.messageQueue[0] = messageQueue[0];\r\n    try {\r\n      var serverResponse = messageQueue[0].entry.message;\r\n      //console.log(serverResponse);\r\n      if (serverResponse.search(\"#SERVER#\") == -1) {\r\n        console.log(\"No Server Response in Channel\");\r\n        messageQueue.shift(); //Empty any AGENT Messages in Queue\r\n      } \r\n      else {\r\n        let jsonMessage = JSON.parse(serverResponse.slice(8));\r\n        let d = new Date();\r\n        \r\n        if (jsonMessage.Type == jsMessageType.LOGIN_RESPONSE_AGENT) {\r\n          //window.jsonMessage = jsonMessage;\r\n          console.log(\"ACD Login Response \" + jsonMessage.Value.IsSuccess +\" @ \" + d.toLocaleString());\r\n              if(jsonMessage.Value.IsSuccess==true)\r\n              {\r\n                LoggedInAcdServer = 2;\r\n                LoggedInAcdServerTime = new Date(messageQueue[0].timestamp);\r\n                setUserAccount((userAccount) => ({...userAccount,acdloggedin: true}));\r\n                setLoginResponse({...jsonMessage.Value});\r\n                Current_AgentState = jsonMessage.Value.AgentStatus;\r\n                setAgentState({...jsonMessage.Value.AgentStatus});\r\n                setAbsenseReasons([...jsonMessage.Value.SettingsACD.AbsenseReasons]);\r\n                \r\n                if(jsonMessage.Value.AgentStatus.AgentState == agentStatuses.Clerical_Work)\r\n                CountDownTimer(jsonMessage.Value.AgentStatus.WrapUp_Remaining);\r\n\r\n                var mesg = {\r\n                  Type: jsMessageType.HRT_BEAT,\r\n                  Value: \"\",\r\n                  CreationTime: \"\",\r\n                };\r\n                clearTimeout(timerId);\r\n                timerId = setTimeout(function HRT_BEAT() {\r\n                sendMsgToServer(myChannelObject,mesg);\r\n                timerId = setTimeout(HRT_BEAT, 10000); // (*)\r\n                }, 10000);\r\n              }\r\n          \r\n          else\r\n          LoggedInAcdServer = 0;\r\n        }\r\n        \r\n        if (jsonMessage.Type == jsMessageType.AGENT_STATE) {\r\n          //console.log(loginResponse.PhoneExtension);\r\n            let d = new Date(messageQueue[0].timestamp);\r\n           // console.log(\"Inside Agent State If\");\r\n            if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n            {\r\n           // console.log(\"Inside Agent State Logged In true If\")\r\n                if(Current_AgentState.AgentState != jsonMessage.Value.AgentState || Current_AgentState.RaiseHand != jsonMessage.Value.RaiseHand || Current_AgentState.Name != jsonMessage.Value.Name || Current_AgentState.OtherParty != jsonMessage.Value.OtherParty || Current_AgentState.LastGroupName != jsonMessage.Value.LastGroupName || Current_AgentState.LastGroupNumber != jsonMessage.Value.LastGroupNumber)\r\n                {\r\n                  \r\n                 //console.log(\"INSIDE AGENT IF COMPARING PREVIOUS WITH NEW STATE\");\r\n                    if(Current_AgentState.AgentState==agentStatuses.ACD_Busy && jsonMessage.Value.AgentState==agentStatuses.Clerical_Work)\r\n                    {\r\n                      //setCallOutCome((callOutCome)=>({...callOutCome,myenable:true}));\r\n                      outComeEnable=true;\r\n                   //   console.log(\"My Enable Value After setting true: \"+callOutCome.myenable);\r\n                      let endTime = new Date();\r\n                      currentCallDetail.EndTime = endTime.toLocaleString();\r\n                      //setCallDetails ({...callDetails, EndTime:endTime.toLocaleTimeString()})\r\n\r\n                    }\r\n                    if(Current_AgentState.AgentState==agentStatuses.Clerical_Work && jsonMessage.Value.AgentState==agentStatuses.Idle)\r\n                    {\r\n                      \r\n                      //console.log(\"OUTSIDE IF TO HIDE CALL REASONS AND SEND MESSAGE: \"+callOutCome.myenable);\r\n                      if(outComeEnable==true)\r\n                      {\r\n                        //console.log(\"INSIDE IF TO HIDE CALL REASONS AND SEND MESSAGE\");\r\n                        \r\n                        //setCallOutCome({...callOutCome, myenable:false});\r\n                        outComeEnable=false;\r\n                        var mesg = {\r\n                          Type: jsMessageType.SET_OUTCOME,\r\n                          Value: {\r\n                            AgentExtension:myExtension,\r\n                            Name:Current_AgentState.Name,\r\n                            StartTime:currentCallDetail.StartTime,\r\n                            EndTime:currentCallDetail.EndTime,\r\n                            CLI:currentCallDetail.CLI,\r\n                            DDI:currentCallDetail.DDI,\r\n                            PrimaryOutcome:primaryOC,\r\n                            SecondaryOutcome:secondaryOC,\r\n                            IsSuccess:false,\r\n                          },\r\n                          CreationTime: \"\",\r\n                        }\r\n                        sendMsgToServer(myChannelObject,mesg);\r\n\r\n                        \r\n                      }\r\n                    }\r\n\r\n                   \r\n\r\n                    if(jsonMessage.Value.AgentState != agentStatuses.Being_Routed)\r\n                    {\r\n                        \r\n                      // window.Current_AgentState = Current_AgentState;\r\n                        console.log(\"Setting Agent State \"+jsonMessage.Value.AgentState);\r\n                        Current_AgentState = jsonMessage.Value;\r\n                        setAgentState({...jsonMessage.Value});\r\n                    }\r\n                    \r\n                    if(jsonMessage.Value.AgentState == agentStatuses.Clerical_Work)\r\n                    {\r\n                    CountDownTimer(jsonMessage.Value.WrapUp_Remaining);\r\n                    }\r\n                }\r\n            }\r\n          //else console.log(\"Stale Message\");\r\n        }\r\n        if (jsonMessage.Type == jsMessageType.GROUP_CALL_RINGING) {\r\n        \r\n            let d = new Date(messageQueue[0].timestamp);\r\n            if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n            {\r\n                console.log(\"Group Call Ringing Message\");\r\n                setGroupCallRinging({...jsonMessage.Value});\r\n\r\n            }\r\n        }\r\n        if (jsonMessage.Type == jsMessageType.GROUP_CALL_CONNECTED) {\r\n        \r\n          let d = new Date(messageQueue[0].timestamp);\r\n          if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n          {\r\n              let startTime = new Date();\r\n              console.log(\"Group Call Connected Message\");\r\n              currentCallDetail.CLI = jsonMessage.Value.CallerNumber;\r\n              currentCallDetail.DDI = jsonMessage.Value.GroupNumber\r\n              currentCallDetail.StartTime = startTime.toLocaleString();\r\n              //setCallDetails({...callDetails, CLI:jsonMessage.Value.CallerNumber, DDI:jsonMessage.Value.LastGroupNumber,StartTime:d.toLocaleTimeString()})\r\n\r\n          }\r\n      }\r\n        //console.log(\"Queue MessageID: \"+jsonMessage.Type);\r\n        messageQueue.shift();\r\n        console.log(\r\n          \"Queue Item Deleted. Items In Queue = \" + messageQueue.length\r\n        );\r\n      \r\n    } \r\n  }\r\n  catch (err) {\r\n        console.log(err);\r\n        break;\r\n      }\r\n  }\r\n}\r\n\r\nconst EndWrapUp = () =>\r\n{\r\n  if(LoggedInAcdServer==2 && Current_AgentState.AgentState==agentStatuses.Clerical_Work)\r\n  {\r\n    var mesg = {\r\n      Type: jsMessageType.END_WRAPUPTIME,\r\n      Value: {Value:false, AgentExtension: Current_AgentState.AgentExtension, RemoteID: null,},\r\n      CreationTime: \"\",\r\n    };\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    console.log(\"Wrapup Message Sent\");\r\n  }\r\n\r\n}\r\n\r\nconst RaiseHand = () =>\r\n{\r\n    console.log(\"Send Raise Hand Message Called\");\r\n    if(LoggedInAcdServer==2)\r\n    {\r\n\r\n        var mesg;\r\n        if(raiseHand)\r\n        {\r\n        mesg = {\r\n            Type: jsMessageType.SET_RAISEHAND,\r\n            Value: {\r\n                AgentExtension:Current_AgentState.AgentExtension,\r\n                PhoneExtension:Current_AgentState.PhoneExtension,\r\n                RaiseHand:false,\r\n                IsAvailable:false,\r\n                UnAvilabilityReason: \"\",\r\n                AutoAnswer:false,\r\n                IsLogin:false,\r\n            },\r\n            CreationTime: \"\",\r\n          };\r\n          setRaiseHand(false);\r\n        }\r\n        else\r\n        {\r\n            mesg = {\r\n                Type: jsMessageType.SET_RAISEHAND,\r\n                Value: {\r\n                    AgentExtension:Current_AgentState.AgentExtension,\r\n                    PhoneExtension:Current_AgentState.PhoneExtension,\r\n                    RaiseHand:true,\r\n                    IsAvailable:false,\r\n                    UnAvilabilityReason: \"\",\r\n                    AutoAnswer:false,\r\n                    IsLogin:false,\r\n                },\r\n                CreationTime: \"\",\r\n              };\r\n              setRaiseHand(true);\r\n        }\r\n\r\n        sendMsgToServer(myChannelObject,mesg);\r\n    }\r\n\r\n}\r\nconst sendAgentGroupsMsg = (Groups) =>{\r\n    console.log(\"sendagentgroups function\")\r\n    //var Groups = JSON.stringify(groups);\r\n    var mesg = {\r\n        Type: jsMessageType.SET_AGENT_QUEUES_AVAILABILITY,\r\n        Value: {Groups, AgentExtension: Current_AgentState.AgentExtension, RemoteID: null,},\r\n        CreationTime: \"\",\r\n    }\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    //console.log(JSON.stringify(mesg));\r\n}\r\n\r\nconst sendUnavailableMsg = (status) =>{\r\n    console.log(\"sendaUnavailable function\")\r\n    //var Groups = JSON.stringify(groups);\r\n    if(status != '')\r\n    {\r\n        var mesg = {\r\n            Type: jsMessageType.SET_AVAILABILITY,\r\n            Value: {AgentExtension: Current_AgentState.AgentExtension,PhoneExtension:Current_AgentState.PhoneExtension,RaiseHand:false,IsAvailable:false,UnAvailabilityReason:status,AutoAnswer:false,IsLogin:false,},\r\n            CreationTime: \"\",\r\n        }\r\n    }\r\n    else\r\n    {\r\n        var mesg = {\r\n            Type: jsMessageType.SET_AVAILABILITY,\r\n            Value: {AgentExtension: Current_AgentState.AgentExtension,PhoneExtension:Current_AgentState.PhoneExtension,RaiseHand:false,IsAvailable:true,UnAvailabilityReason:'',AutoAnswer:false,IsLogin:false,},\r\n            CreationTime: \"\",\r\n        }\r\n    }\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    //console.log(JSON.stringify(mesg));\r\n}\r\n\r\nconst CountDownTimer = (counter) =>\r\n{\r\n  var lbl = counter;\r\n  //console.log(\"Counter Value\"+ counter);\r\n  var x = setInterval(function() {\r\n    \r\n    if(counter<10)\r\n    lbl=\"0\"+counter;\r\n    else\r\n    lbl=counter;\r\n\r\n    setCountDown(lbl);\r\n    counter--;\r\n    if(counter<0)\r\n    clearInterval(x);\r\n  },1000);\r\n}\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  /////////////////////////////////// END COMPONENT LOGIC///////////////////////////////////////\r\n  \r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  /////////////////////////////////// START UI LOGIC FUNCTIONS//////////////////////////////////\r\n   \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n\r\n  const handleClickOpenQueue = () => {\r\n    //console.log(\"Open Dialog Function\");\r\n    setAgentGroups([...Current_AgentState.AssociatedGroups]);\r\n    setOpenQueueDialog(true);\r\n  };\r\n\r\n  const handleCloseQueue = (value) => {\r\n    //console.log(\"Close Dialog Function\");\r\n    //console.log(value);\r\n    if(value != null)\r\n    {\r\n    setAgentGroups([...value]);\r\n    sendAgentGroupsMsg(value);\r\n    }\r\n    setOpenQueueDialog(false);\r\n  };\r\n\r\n  const handleClickOpenUnavailable = () => {\r\n      if(Current_AgentState.IsAvailable)\r\n        setOpenUnavailableDialog(true);\r\n      else\r\n      sendUnavailableMsg('');\r\n  }\r\n\r\n  const handleCloseUnavailable = (value) => {\r\n      if(value !=null && value !='')\r\n      {\r\n        console.log(\"sent unavailable message\");\r\n      sendUnavailableMsg(value);\r\n      }\r\n\r\n      setOpenUnavailableDialog(false);\r\n  }\r\n\r\n  const handleChangeOutCome = (value) => {\r\n    //console.log(\"RETURNED OUTCOME TO VURELLA_ACD IS: \"+value.primaryOutCome+\"-:-\"+value.secondaryOutCome);\r\n    setCallOutCome((callOutCome) => ({...callOutCome,...value}))\r\n\r\n  }\r\n\r\n   /////////////////////////////////// //END UI LOGIC///////////////////////////////////////////\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  useEffect(()=> {\r\n    console.log(\"Call OutCome UseEffect Fired\");\r\n    primaryOC = callOutCome.primaryOutCome;\r\n    secondaryOC = callOutCome.secondaryOutCome;\r\n  },[callOutCome])\r\n  \r\n  useEffect(() => {\r\n    console.log(\"Vurella ACD UseEffect Called\");\r\n    myExtension = userAccount.extension;\r\n    //myChannelName = userAccount.channelname;\r\n    //window.userAccount.acdloggedin = userAccount.acdloggedin;\r\n    \r\n      if (userAccount.acdloggedin == false && LoggedInAcdServer==0) {\r\n        document.addEventListener(rainbowSDK.channels.RAINBOW_ONCHANNELMESSAGERECEIVED,onChannelMessageReceived);\r\n        loginVACD();\r\n        console.log(\"LOGIN ACD CALLED\");\r\n      }\r\n    return function cleanup() {\r\n      \r\n      //LoggedInAcdServer = false;\r\n      if(userAccount.acdloggedin==null)\r\n      {\r\n      console.log(\"HeartBeat Timer Cleared\");\r\n      LoggedInAcdServer = 0;\r\n      clearTimeout(timerId);\r\n      }\r\n    };\r\n  }, [userAccount.acdloggedin]);\r\n  \r\n  return (\r\n    <Grid container spacing={2} className ={classes.root} >\r\n        <Grid item xs={12}>\r\n          {!outComeEnable && (<AgentStateCard state={agentState} groupCR={groupCallRinging}/>)}\r\n          {outComeEnable && (<SetOutComes outComeData={loginResponse} onChange={handleChangeOutCome}/>)}\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_RH} disabled={agentState.AgentState==agentStatuses.Clerical_Work ? false:true} style={{backgroundColor:(agentState.AgentState==agentStatuses.Clerical_Work ? '#0288d1':'#d3d3d3'), cursor:(agentState.AgentState==agentStatuses.Clerical_Work ? 'pointer':'default')}}>\r\n                <CardContent onClick={()=>{EndWrapUp()}}>\r\n                    <IconButton aria-label=\"end-wrapup\" style={{color:\"white\"}} disabled ={agentState.AgentState==agentStatuses.Clerical_Work ? false:true}>\r\n                        <TimerIcon /> {\r\n                        ((agentState.AgentState==agentStatuses.Clerical_Work) && (<Typography variant=\"body2\" style={{color:\"white\"}}> {\"  00:\"+countDown}</Typography>)) ||\r\n                        ((agentState.AgentState!=agentStatuses.Clerical_Work) && (<Typography variant=\"body2\" style={{color:\"white\"}}> {\"  --:--\"}</Typography>))\r\n                        }\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        End Wrap-up\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_RH}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"raise-hand\" onClick={()=>{RaiseHand()}} style={{color:(raiseHand ? 'red':'white')}}>\r\n                        <HandIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Raise Hand\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_Queues}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"manage-queues\" onClick={()=>{handleClickOpenQueue()}} style={{color:'white'}}>\r\n                        <QueueIcon fontSize=\"large\"/>\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Queues\r\n                    </Typography>\r\n                    <QueuesDialog state={agentGroups} open={openQueueDialog} onClose={handleCloseQueue}/>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_Queues}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"set-unavailable\" onClick={()=>{handleClickOpenUnavailable()}} style={{color:'white'}}>\r\n                        <UnavailableIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Set Unavailable\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n            <UnavailableDialog settings={absenseReasons} open={openUnavailableDialog} onClose={handleCloseUnavailable}/>\r\n            <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n             <Alert onClose={handleErrorClose} severity=\"error\">\r\n              {errorMsg}\r\n             </Alert>\r\n    </Snackbar>\r\n        </Grid>\r\n    </Grid>\r\n   \r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState,useContext } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  IconButton,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport vurellaSM from \"../images/vurellaSM.png\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport RainbowContacts from \"./RainbowContacts.jsx\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport FontDownloadIcon from '@material-ui/icons/FontDownload';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport VurellaACD from \"./VurellaACD\";\r\nimport {Context} from \"../Context.js\";\r\nimport {sendMsgToServer} from \"./helperfunctions.js\";\r\nimport {jsMessageType} from \"./constants.js\";\r\n\r\nvar isAgentHidden = false;\r\nvar isContactsHidden = true;\r\nvar isSettingsHidden = true;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  root:{\r\n    '& .MuiAppBar-root':{\r\n      backgroundColor:'#0288d1',\r\n  },\r\n  },\r\n  bottomNav: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    bottom: '0',\r\n  },\r\n  header: {\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    width: '95%',\r\n    margin: '0 auto',\r\n    padding: '10px',\r\n    maxHeight: '80vh',\r\n  },\r\n  paper: {\r\n    //flexGrow: 1,\r\n    //padding: theme.spacing(2),\r\n    //margin: theme.spacing(2),\r\n    //color: theme.palette.text.primary,\r\n  },\r\n  menuButton: {\r\n    // marginRight: theme.spacing(10),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function Main(props) {\r\n  \r\n  const classes = useStyles();\r\n  const [userAccount, setUserAccount] = useContext(Context);\r\n  const [value, setValue] = useState('acd');\r\n  \r\n  \r\n  const signOut = () => {\r\n    \r\n    var mesg = {\r\n      Type: jsMessageType.LOGOUT,\r\n      Value: \"\",\r\n      CreationTime: \"\",\r\n      };\r\n      sendMsgToServer(userAccount.channelobject,mesg);\r\n\r\n    rainbowSDK.connection.signout().then( function (res){\r\n      console.log('Signed Out from Rainbow')\r\n      setUserAccount(userAccount=>({...userAccount,firstname:'',lastname:'',extension:'',channelobject:null,channelid:null,rainbowloggedin:false,acdloggedin:null}));\r\n      \r\n      props.onChange(false);\r\n    })\r\n    .catch((err)=>{\r\n      setUserAccount(userAccount=>({...userAccount,firstname:'',lastname:'',extension:'',channelobject:null,channelid:null,rainbowloggedin:false,acdloggedin:false}));\r\n      props.onChange(false);\r\n      console.log(err);\r\n    });\r\n    \r\n  };\r\n  \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    switch (newValue)\r\n    {\r\n        case 'acd':\r\n            {\r\n                isAgentHidden = false;\r\n                isContactsHidden = true;\r\n                isSettingsHidden = true;\r\n                break;\r\n            }\r\n        case 'contacts':\r\n            {\r\n                isAgentHidden = true;\r\n                isContactsHidden = false;\r\n                isSettingsHidden = true;\r\n                break;\r\n            }\r\n        case 'settings':\r\n            {\r\n                isAgentHidden = true;\r\n                isContactsHidden = true;\r\n                isSettingsHidden = false;\r\n                break;\r\n            }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n    <div className={classes.header}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <img src={vurellaSM} style={{ padding: \"4px 0px 0px 0px\" }}></img>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Mobile Agent\r\n          </Typography>\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"Logout\"\r\n            onClick={() => signOut()}\r\n          >\r\n            <ExitToAppIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      </div>\r\n      <div className={classes.container}>\r\n      <div hidden={isContactsHidden}> \r\n      <Paper className={classes.paper}>\r\n        <RainbowContacts></RainbowContacts>\r\n      </Paper>\r\n      </div>\r\n      <div hidden={isAgentHidden}> \r\n      <VurellaACD></VurellaACD>\r\n      </div>\r\n      </div>\r\n      <div className={classes.bottomNav}>\r\n      <BottomNavigation value={value} onChange={handleChange}>\r\n      <BottomNavigationAction label=\"ACD Agent\" value=\"acd\" icon={<FontDownloadIcon />} />\r\n      <BottomNavigationAction label=\"Contacts\" value=\"contacts\" icon={<PersonIcon />} />\r\n      <BottomNavigationAction label=\"Settings\" value=\"settings\" icon={<SettingsIcon />} />\r\n    </BottomNavigation>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useContext } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport \"./App.css\";\r\nimport Rainbowpresence from \"./Components/Rainbowpresence\";\r\nimport RainbowLogin from \"./Components/RainbowLogin.jsx\";\r\nimport RainbowContacts from \"./Components/RainbowContacts\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Main from \"./Components/Main.jsx\";\r\nimport { jsMessageType } from \"./Components/constants.js\";\r\nimport {Context} from \"./Context.js\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport {Snackbar} from \"@material-ui/core\";\r\n\r\n//import Context from \"./Context.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"27ch\",\r\n    },\r\n  },\r\n \r\n}));\r\n\r\nlet onReady = function () {\r\n  console.log(\"SDK Initialized\");\r\n};\r\n\r\nfunction App() {\r\n  const [userAccount, setUserAccount] = useState({\r\n    firstname:'',\r\n    lastname:'',\r\n    extension:'',\r\n    channelobject:null,\r\n    channelid:null,\r\n    rainbowloggedin:false,\r\n    acdloggedin:null,\r\n  });\r\n  //const [userAccount, setUserAccount] = useState('AAA');\r\n  const [loginState, setLoginState] = useState(false);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [initState, setInitState] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n  \r\n  /* Add window object to allow debugging from the console */\r\n  window.rainbowSDK = rainbowSDK;\r\n  \r\n  useEffect(() => {\r\n    console.log(\"*** Welcome to Rainbow Web SDK for React ***\");\r\n    //console.log(jsMessageType.LOGIN.toString());\r\n    rainbowSDK\r\n      .initialize(\r\n        \"fb92e5b0ba6d11e89693dd9cc99d33f6\",\r\n        \"Vg3v1CaHQbZQl2ELyUqtzK6wIwN8W3TBkVGhyaYZXed3aaR2ZGMAZuktiPVuaBdc\"\r\n      )\r\n      .then(function () {\r\n        //console.log(rainbowSDK.RAINBOW_ONREADY);\r\n        setInitState(true);\r\n      })\r\n      .catch((err)=> {\r\n          setErrorMsg(err.label);\r\n      });\r\n    document.addEventListener(rainbowSDK.RAINBOW_ONREADY, onReady);\r\n    rainbowSDK.load();\r\n  },[]);\r\n\r\n  const handleStateChange = newState => \r\n  {\r\n    setLoginState(newState);\r\n    setInitState(!newState);\r\n  }\r\n\r\n  return (\r\n    <Context.Provider value ={[userAccount,setUserAccount]}>\r\n    <div>\r\n      {!loginState && (\r\n        <RainbowLogin initState={initState} onChange={handleStateChange}></RainbowLogin>\r\n      )}\r\n      {loginState && (\r\n        <Main onChange={handleStateChange}></Main>\r\n      )}\r\n    </div>\r\n    <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n          <Alert onClose={handleErrorClose} severity=\"error\">\r\n          Initializing Rainbow failed with error: {errorMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\ndocument.body.style= 'background-color:#BDBDBD; margin:0 auto; padding:0;';\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}