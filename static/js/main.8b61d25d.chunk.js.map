{"version":3,"sources":["Components/Rainbowpresence.jsx","Context.js","Components/RainbowLogin.jsx","images/118.png","Components/RainbowContacts.jsx","Components/constants.js","Components/helperfunctions.js","Components/objects.js","Components/TimerComponent.jsx","Components/AgentStateCard.jsx","Components/QueuesDialog.jsx","Components/UnavailableDialog.jsx","Components/SetOutComes.jsx","Components/VurellaACD.jsx","Components/Main.jsx","images/vurellaSM.png","App.js","serviceWorker.js","index.js"],"names":["makeStyles","theme","root","flexGrow","margin","spacing","width","Context","React","createContext","useStyles","position","display","height","justifyContent","alignItems","backgroundColor","Loginpaper","padding","textAlign","color","RainbowLogin","props","useContext","setUserAccount","useState","initState","btnState","setBtnState","errorOpen","setErrorOpen","errorMsg","setErrorMsg","classes","Alert","elevation","variant","handleErrorClose","event","reason","className","Paper","onSubmit","preventDefault","uname","target","elements","username","value","pass","password","exten","console","log","rainbowSDK","connection","signinOnRainbowOfficial","then","account","contacts","getConnectedUser","phoneInternalNumber","userAccount","firstname","userData","firstName","lastname","lastName","extension","rainbowlogged","acdloggedin","onChange","catch","err","label","Grid","item","src","TextField","id","required","type","Button","disabled","hidden","CircularProgress","Snackbar","open","autoHideDuration","onClose","severity","RainbowContacts","userObj","setUser","useEffect","usersFound","getAll","length","forEach","user","List","dense","style","overflowY","map","currentUser","ListItem","ListItemAvatar","Avatar","ListItemText","primary","secondary","ListItemSecondaryAction","IconButton","edge","aria-label","onClick","webRTC","callInAudio","num","telephony","callByNumber","res","callObj","getActiveCall","release","releaseCall","jsMessageType","Object","freeze","LOGIN","LOGOUT","HRT_BEAT","LOGIN_RESPONSE","LOGIN_RESPONSE_AGENT","REQUEST_SETTINGS","LOGOUT_SUCCESS","AGENT_STATE","SET_AUTOANSWER","SET_AVAILABILITY","SET_RAISEHAND","INVALID_PARAM","INVALID_AGENT","AGENT_ROUTING_STATU","GROUP_CALL_RINGING","GROUP_CALL_CONNECTED","SET_LOGIN","FORCED_LOGOUT","GROUP_CALL_DISCONNECTED","END_WRAPUPTIME","SET_WRAPUPTIME","AGENTSTATUS_LIST","ABSENCE_LIST","QUEUE_CHANGE","AGENT_CHANGE","INVALID_OPERATION","SET_OUTCOME","SET_OUTCOME_RESPONSE","SET_AGENT_QUEUES_AVAILABILITY","QUEUESTATUS_LIST","agentStatuses","Offline","Available","Clerical_Work","Temp_Absent","Not_Answered","Ringing_IN_ACD","ACD_Busy","Idle","Non_Acd_Busy","Being_Routed","Faulty","Busy_OutgoingDialing","Not_Available","Busy_OutboundCall","Non_Acd_Ringing","Acd_OnHold","Non_Acd_OnHold","Ringing_IN_ACD_Callback","ACD_Busy_Callback","Acd_OnHold_Callback","ACD_Login","None","Custom_Transfer_ACD","Custom_Transfer_Other","Custom_Call_Hold","Custom_Call_UnHold","Custom_Call_ReleaseByAgent","messageQueue","sendMsgToServer","channel","msg","message","JSON","stringify","channels","createItem","currentMsgID","processMsg","d","Date","getTime","push","deleteItem","channelId","resp","interval","SettingsACD","AbsenseReasons","PrimaryOutcomeTitle","SecondaryOutcomeTitle","PrimaryOutcomeEnable","SecondaryOutcomeEnable","PrimaryOutComes","Id","Code","Title","SecondaryOutComes","AgentGroupInfo","Name","SkillLevel","IsAvailable","QueueAbr","Color","GroupNumber","AgentId","QueueId","AgentState","LoggedinTime","IsLoggedin","RaiseHandTime","RaiseHand","AvailabilityTime","UnAvailabilityReason","RemoteId","AgentExtension","AutoAnswer","LogoutRinging","Direction","OtherParty","CallType","LastGroupName","LastGroupNumber","CallerNumber","CSTACallID","PhoneExtension","AcdBusyStartTime","LastStateTime","Gender","Email","ImagePath","Error","AssociatedGroups","WrapUp_Remaining","LoginResponse","AccountID","IsSuccess","RemoteID","AgentStatus","GroupCallRinging","SipProfileNumber","LastDivertTo","GroupName","CallTime","CallID","AgentCallID","TimerComponent","seconds","setSeconds","min","setMinutes","hr","setHours","timerState","hours","setInterval","clearInterval","Fragment","divider","marginBottom","callID","onTelephonyVoipChangedEvent","detail","status","onTelephonyChangedEvent","AgentStateCard","window","setTimerState","state","document","addEventListener","RAINBOW_ONTELEPHONYCALLSTATECHANGED","RAINBOW_ONVOIPCALLSTATECHANGED","Card","raised","CardHeader","avatar","title","Typography","Divider","subheader","action","answer","groupCR","CardContent","btnDiv","button","QueuesDialog","groupState","isChecked","setChecked","handleSwitchChange","name","checked","Dialog","aria-labelledby","fullWidth","maxWidth","DialogTitle","fontSize","FormControl","component","FormGroup","group","index","paddingRight","Switch","formControl","selectEmpty","marginTop","UnavailableDialog","absenseReasons","settings","selected","setSelected","Select","labelId","MenuItem","callOutCome","setCallOutCome","marginLeft","outComes","initOutCome","primaryOutCome","secondaryOutCome","SetOutComes","outComeData","InputLabel","filter","getSecondaryOutComes","timerId","myChannelObject","myChannelID","myExtension","LoggedInAcdServer","LoggedInAcdServerTime","Current_AgentState","outComeEnable","primaryOC","secondaryOC","currentCallDetail","CLI","DDI","StartTime","EndTime","initialValue","Card_RH","Card_Queues","VurellaACD","agentState","setAgentState","groupCallRinging","setGroupCallRinging","loginResponse","setLoginResponse","agentGroups","setAgentGroups","raiseHand","setRaiseHand","openQueueDialog","setOpenQueueDialog","openUnavailableDialog","setOpenUnavailableDialog","setAbsenseReasons","countDown","setCountDown","onChannelMessageReceived","channelID","toLocaleString","fetchItems","response","processMessageQueue","serverResponse","entry","search","shift","jsonMessage","parse","slice","Type","Value","timestamp","CountDownTimer","mesg","CreationTime","clearTimeout","setTimeout","endTime","PrimaryOutcome","SecondaryOutcome","startTime","sendUnavailableMsg","IsLogin","counter","x","RAINBOW_ONCHANNELMESSAGERECEIVED","fetchChannelsByName","subscribeToChannelById","UFID","Username","Password","IsSuperVisor","channelobject","channelid","loginVACD","container","xs","cursor","EndWrapUp","UnAvilabilityReason","Groups","sendAgentGroupsMsg","isAgentHidden","isContactsHidden","bottomNav","bottom","header","maxHeight","paper","menuButton","Main","setValue","AppBar","Toolbar","signout","rainbowloggedin","signOut","BottomNavigation","newValue","BottomNavigationAction","icon","onReady","App","loginState","setLoginState","setInitState","initialize","RAINBOW_ONREADY","load","handleStateChange","newState","Provider","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","StrictMode","getElementById","body","URL","process","href","origin","fetch","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.8b61d25d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport { TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: '5px',\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst handleClick = (event) => {\r\n  let status = event.target.id;\r\n  console.log(\"Log\" + status);\r\n  // if(rainbowSDK.RAINBOW_ONSTARTED)\r\n  //{\r\n  switch (event.target.id) {\r\n    case \"1\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_ONLINE\r\n      );\r\n      break;\r\n    case \"2\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_AWAY\r\n      );\r\n      break;\r\n    case \"3\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_DONOTDISTURB\r\n      );\r\n      break;\r\n    case \"4\":\r\n      rainbowSDK.presence.setPresenceTo(\r\n        rainbowSDK.presence.RAINBOW_PRESENCE_OFFLINE\r\n      );\r\n      break;\r\n  }\r\n  //}//\r\n};\r\nexport default function Rainbowpresence() {\r\n  const cclasses = useStyles();\r\n  return (\r\n    <div className={cclasses.root}>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"1\"\r\n        onClick={handleClick}\r\n      >\r\n        Online\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"2\"\r\n        onClick={handleClick}\r\n      >\r\n        Away\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"3\"\r\n        onClick={handleClick}\r\n      >\r\n        Do Not Disturb\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        id=\"4\"\r\n        onClick={handleClick}\r\n      >\r\n        Invisible\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const Context = React.createContext();","import React, {useState,useEffect,useContext} from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  CircularProgress,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport vurellaACD from \"../images/118.png\";\r\nimport {Context} from \"../Context.js\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position:'relative',\r\n    display:'flex',\r\n    height:'100vh',\r\n    justifyContent: 'center',\r\n    alignItems:'center',\r\n\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"27ch\",\r\n      backgroundColor:'#607d8b',\r\n    },\r\n  },\r\n  Loginpaper: {\r\n    position:'relative',\r\n    flexGrow: 1,\r\n    padding: theme.spacing(4),\r\n    margin: theme.spacing(4),\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    color: '#b3e5fc',\r\n    height: 380 + \"px\",\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function RainbowLogin(props) {\r\n  const [userAccount,setUserAccount] = useContext(Context);\r\n  const [btnState, setBtnState] = useState(props.initState);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const classes = useStyles();\r\n  \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n  \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n      setBtnState(true);\r\n      let uname = event.target.elements.username.value;\r\n      let pass = event.target.elements.password.value;\r\n      var exten = '';\r\n      console.log(uname);\r\n      console.log(pass);\r\n      rainbowSDK.connection\r\n        .signinOnRainbowOfficial(uname, pass)\r\n        .then(function (account) {\r\n          console.log(\"LOGIN SUCCESSFUL\");\r\n          //window.account = account;\r\n          exten = rainbowSDK.contacts.getConnectedUser().phoneInternalNumber;\r\n          setUserAccount(userAccount =>({...userAccount,firstname:account.userData.firstName,lastname:account.userData.lastName,extension:exten,rainbowlogged:true,acdloggedin:false}));\r\n          props.onChange(true); \r\n         \r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n          setBtnState(false);\r\n          setErrorOpen(true);\r\n          setErrorMsg(err.label);\r\n          props.onChange(false);\r\n        });\r\n        \r\n        \r\n      };\r\n     \r\n\r\n  // useEffect(() => {\r\n  //   console.log('UseEffect RainBow Login');\r\n  //   window.addEventListener(rainbowSDK.RAINBOW_ONSIGNED, onSigned);\r\n\r\n  //   return () =>{\r\n  //     window.remove\r\n  //   }\r\n  //     },[]);\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n          <Paper className={classes.Loginpaper}>\r\n            <form onSubmit={handleSubmit}>\r\n              <Grid>\r\n                <Grid item>\r\n                  <img src={vurellaACD} />\r\n                </Grid>\r\n                <Grid item>\r\n                  <TextField\r\n                    id=\"username\"\r\n                    label=\"Username\"\r\n                    variant=\"outlined\" \r\n                    required\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <TextField\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button disabled={btnState} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                    Login\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                <div hidden={!btnState}>\r\n                <CircularProgress/>\r\n                </div>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Paper>\r\n          <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n          <Alert onClose={handleErrorClose} severity=\"error\">\r\n          Login to Rainbow Failed with error: {errorMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n        </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport HeadsetIcon from \"@material-ui/icons/Headset\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: \"5px\",\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst makeCall = (num) => {\r\n  //if(callId!=null)\r\n  rainbowSDK.telephony.callByNumber(num).then(function (res) {\r\n    console.log(\"Make Call Result\" + res.label);\r\n  });\r\n};\r\nlet releaseCall = () => {\r\n  var callObj = rainbowSDK.telephony.getActiveCall();\r\n\r\n  if (callObj != null) {\r\n    rainbowSDK.telephony.release(callObj);\r\n  } else console.log(\"No Active Call\");\r\n};\r\n\r\n\r\n\r\nexport default function RainbowContacts() {\r\n  const cclasses = useStyles();\r\n  const [userObj, setUser] = useState([]);\r\n  const [callId, setCallId] = useState(null);\r\n  const [callState, setCallState] = useState(\"unknown\");\r\n\r\n  const onCallEvent = function (event) {\r\n    let acc = event.detail;\r\n    console.log(\"Call Event Fired-\" + acc);\r\n\r\n    setCallState(event.detail.status);\r\n    //  switch (acc.status.value)\r\n    //  {\r\n    //     case \"dialing\":\r\n    //       setCallState(a)\r\n    //  }\r\n  };\r\n  const onWebRTCEvent = function (event) {\r\n    console.log(\"Event Fired\");\r\n    let acc = event.detail;\r\n    //console.log(\"On Call Event-\"+\" STATUS:\"+acc.status.value +\"ID:\"+acc.id);\r\n    console.log(\"On WebRTC Event-\" + acc);\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    var usersFound = rainbowSDK.contacts.getAll();\r\n    console.log(\"UseEffect\");\r\n    if (usersFound.length > 0) {\r\n      usersFound.forEach(function (user) {\r\n        if (user.firstname != \"\" && user.firstname != null) setUser((userObj) => [...userObj, user]);\r\n\r\n        console.log(\r\n          \"Name: \" +\r\n            user.firstname +\r\n            \" \" +\r\n            user.lastname +\r\n            \" Internal Ext: \" +\r\n            user.phoneInternalNumber\r\n        );\r\n      });\r\n    }\r\n    // document.addEventListener(\r\n    //   rainbowSDK.telephony.RAINBOW_ONTELEPHONYCALLSTATECHANGED,\r\n    //   onCallEvent\r\n    // );\r\n    // document.addEventListener(\r\n    //   rainbowSDK.webRTC.RAINBOW_ONWEBRTCCALLSTATECHANGED,\r\n    //   onWebRTCEvent\r\n    // );\r\n  }, []);\r\n\r\n  return (\r\n    <List dense=\"false\" style={{overflowY:'scroll', height:'80vh'}}>\r\n      {userObj.map((currentUser) => (\r\n        <ListItem>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <PersonIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n\r\n          <ListItemText\r\n            primary={currentUser.firstname + \" \" + currentUser.lastname}\r\n            secondary={currentUser.phoneInternalNumber}\r\n          />\r\n          <ListItemSecondaryAction>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => rainbowSDK.webRTC.callInAudio(currentUser)}\r\n            >\r\n              <HeadsetIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              style={{ color: \"green\" }}\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => makeCall(currentUser.phoneInternalNumber)}\r\n            >\r\n              <PhoneIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"call\"\r\n              onClick={() => releaseCall()}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","export const jsMessageType = Object.freeze({\r\n    LOGIN: 'LOGIN',\r\n    LOGOUT: 'LOGOUT',\r\n    HRT_BEAT: 'HRT_BEAT',\r\n    LOGIN_RESPONSE: 'LOGIN_RESPONSE',\r\n    LOGIN_RESPONSE_AGENT: 'LOGIN_RESPONSE_AGENT',\r\n    REQUEST_SETTINGS: 'REQUEST_SETTINGS',\r\n    LOGOUT_SUCCESS: 'LOGOUT_SUCCESS',\r\n    AGENT_STATE: 'AGENT_STATE',\r\n    SET_AUTOANSWER: 'SET_AUTOANSWER',\r\n    SET_AVAILABILITY: 'SET_AVAILABILITY',\r\n    SET_RAISEHAND: 'SET_RAISEHAND',\r\n    INVALID_PARAM: 'INVALID_PARAM',\r\n    INVALID_AGENT: 'INVALID_AGENT',\r\n    AGENT_ROUTING_STATU: 'AGENT_ROUTING_STATUS',\r\n    GROUP_CALL_RINGING: 'GROUP_CALL_RINGING',\r\n    GROUP_CALL_CONNECTED: 'GROUP_CALL_CONNECTED',\r\n    SET_LOGIN: 'SET_LOGIN',\r\n    FORCED_LOGOUT: 'FORCED_LOGOUT',\r\n    GROUP_CALL_DISCONNECTED: 'GROUP_CALL_DISCONNECTED',\r\n    END_WRAPUPTIME: 'END_WRAPUPTIME',\r\n    SET_WRAPUPTIME: 'SET_WRAPUPTIME',\r\n    AGENTSTATUS_LIST: 'AGENTSTATUS_LIST',\r\n    ABSENCE_LIST: 'ABSENCE_LIST',\r\n    QUEUE_CHANGE: 'QUEUE_CHANGE',\r\n    AGENT_CHANGE: 'AGENT_CHANGE',\r\n    INVALID_OPERATION: 'INVALID_OPERATION',\r\n    SET_OUTCOME: 'SET_OUTCOME',\r\n    SET_OUTCOME_RESPONSE: 'SET_OUTCOME_RESPONSE',\r\n    SET_AGENT_QUEUES_AVAILABILITY: 'SET_AGENT_QUEUES_AVAILABILITY',\r\n    QUEUESTATUS_LIST: 'QUEUESTATUS_LIST',\r\n\r\n})\r\n\r\nexport const agentStatuses = Object.freeze({\r\n    Offline: 0,\r\n    Available : 1,\r\n    Clerical_Work : 2,\r\n    Temp_Absent : 3,\r\n    Not_Answered : 4,\r\n    Ringing_IN_ACD : 5,\r\n    ACD_Busy : 6,\r\n    Idle : 7,\r\n    Non_Acd_Busy : 8,\r\n    Being_Routed : 9,\r\n    Faulty : 10,       \r\n    Busy_OutgoingDialing : 11,\r\n    Not_Available : 12,\r\n    Busy_OutboundCall : 13,\r\n    Non_Acd_Ringing : 14,\r\n    Acd_OnHold : 15,\r\n    Non_Acd_OnHold : 16,\r\n    Ringing_IN_ACD_Callback : 17,\r\n    ACD_Busy_Callback : 18,\r\n    Acd_OnHold_Callback : 19,\r\n    ACD_Login : 20,\r\n    None :49,\r\n    Custom_Transfer_ACD : 50,\r\n    Custom_Transfer_Other : 51,\r\n    Custom_Call_Hold : 52,\r\n    Custom_Call_UnHold : 53,\r\n    Custom_Call_ReleaseByAgent : 54,\r\n        \r\n})","import rainbowSDK from \"rainbow-web-sdk\";\r\n\r\nexport var messageQueue = [];\r\n\r\nexport function sendMsgToServer(channel,msg){\r\n          \r\n          if(channel !=\"\")\r\n          {\r\n            //console.log(\"ChannnelID\"+channel);\r\n          var message = \"#AGENT#\" + JSON.stringify(msg);\r\n          var title = \"vACD\";\r\n          var url = \"\";\r\n          var type = \"basic\";\r\n           // console.log(msg);\r\n          rainbowSDK.channels\r\n            .createItem(channel, message, title, url, type)\r\n            .then(() => console.log(\"Message Posted On Channel\"))\r\n            .catch((err) => console.log(\"Error Posting Message:\"+err) /*something went wrong*/);\r\n          }\r\n}\r\n\r\n\r\nvar currentMsgID = '';\r\nexport function getMsgFromServer(channelID)\r\n{\r\n    //console.log(channelID);\r\n     return rainbowSDK.channels.fetchItems(channelID).then(function (response){\r\n        if(response.length>0)\r\n        {\r\n          if(currentMsgID != response[0].id)\r\n          {\r\n            currentMsgID = response[0].id;\r\n          //window.response = response;\r\n          response.forEach(processMsg)\r\n          }\r\n        }\r\n       \r\n     })\r\n     .catch((err)=> console.log(\"Error fetching message: \"+ err));\r\n    \r\n}\r\n\r\nfunction processMsg(item)\r\n{\r\n\r\n  let d = new Date();\r\n  console.log(\"Message Fetched: \"+item.id+\" @ \"+d.getTime());\r\n  messageQueue.push(item);\r\n  rainbowSDK.channels.deleteItem(item.channelId,item.id).then(function (resp){\r\n  let d = new Date();\r\n  console.log(\"Message Deleted Successfully:\"+ item.id+ \" @ \"+d.getTime());\r\n  })\r\n  .catch((err) => \r\n    {\r\n      let d = new Date();\r\n      console.log(\"Error Deleting Message: \"+item.id+ \"---\" + err+ \" @ \"+d.getTime())\r\n    });\r\n\r\n}\r\n\r\nexport function deleteMsgFromServer(channelID,itemID)\r\n{\r\n        rainbowSDK.channels.deleteItem(channelID,itemID).then(function (response){\r\n          console.log(\"Message Deleted Successfully\");\r\n          \r\n        })\r\n        .catch((err) => console.log(\"Error Deleting Message: \" + err));\r\n}","import {agentStatus, agentStatuses} from \"./constants\";\r\n\r\nexport var CallDetails = {\r\nCLI:'',\r\nDDI:'',\r\nStartTime:'',\r\nEndTime:'',\r\n};\r\nexport var SecondaryOutcomes = {\r\n    Id:'',\r\n    Code:'',\r\n    Title:'',\r\n};\r\n\r\nexport var PrimaryOutcomes = {\r\n    Id:'',\r\n    Code:'',\r\n    Title:'',\r\n    SecondaryOutComes:[SecondaryOutcomes]\r\n};\r\n\r\nexport var SettingsACD = {\r\n    AbsenseReasons:[],\r\n    PrimaryOutcomeTitle:'',\r\n    SecondaryOutcomeTitle:'',\r\n    PrimaryOutcomeEnable:'',\r\n    SecondaryOutcomeEnable:'',\r\n    PrimaryOutComes:[PrimaryOutcomes],\r\n};\r\n//const newACDSettings = new ACDSettings();\r\n\r\nexport var AgentGroupInfo = {\r\n    Name:'',\r\n    SkillLevel:'',\r\n    IsAvailable:'',\r\n    QueueAbr:'',\r\n    Color:'',\r\n    GroupNumber:'',\r\n    AgentId:'',\r\n    QueueId:''\r\n};\r\n\r\nexport var AgentState = {\r\n    LoggedinTime: 0,\r\n    IsLoggedin:'false',\r\n    RaiseHandTime:0,\r\n    RaiseHand:false,\r\n    AvailabilityTime:0,\r\n    IsAvailable:true,\r\n    UnAvailabilityReason:'',\r\n    RemoteId:'',\r\n    AgentState: agentStatuses.Not_Available,\r\n    AgentExtension:'',\r\n    AutoAnswer:false,\r\n    LogoutRinging:'false',\r\n    Direction:'',\r\n    OtherParty:'',\r\n    CallType:'I',\r\n    LastGroupName:'',\r\n    LastGroupNumber:'',\r\n    CallerNumber:'',\r\n    CSTACallID:'',\r\n    PhoneExtension:'',\r\n    AcdBusyStartTime:'',\r\n    LastStateTime:'',\r\n    Name:'',\r\n    Gender:'',\r\n    Email:'',\r\n    ImagePath:'',\r\n    Error:'',\r\n    AssociatedGroups:[AgentGroupInfo],\r\n    WrapUp_Remaining:''\r\n};\r\n\r\nexport var LoginResponse = {\r\n    AccountID:0,\r\n    AgentExtension:'',\r\n    PhoneExtension:'',   \r\n    IsSuccess:false,\r\n    Error:'',\r\n    RemoteID: '',\r\n    SettingsACD:SettingsACD,\r\n    AgentStatus:AgentState,\r\n};\r\n\r\nexport var GroupCallRinging = {\r\n    AgentExtension: '',\r\n    PhoneExtension: '',\r\n    GroupNumber: '',\r\n    SipProfileNumber: '',\r\n    LastDivertTo: null,\r\n    GroupName:'',\r\n    CallerNumber:'',\r\n    CallTime:'',\r\n    RemoteID:'',\r\n    CallID:0,\r\n    AgentCallID:0,\r\n    CSTACallID:'',\r\n}\r\n","import React, {useState,useEffect} from \"react\"\r\n\r\n\r\nvar interval;\r\n\r\nexport default function TimerComponent(props)\r\n{\r\n    //console.log(\"TimerComponent Fired\");\r\n    const [seconds, setSeconds] = useState(0);\r\n    const [min, setMinutes] = useState(0);\r\n    const [hr, setHours] = useState(0);\r\n    //const [isActive, setIsActive] = useState(props.timerState);\r\n    \r\n    function calculateTime(){\r\n    if (props.timerState) {\r\n     \r\n        \r\n\r\n      if (seconds == 60) {\r\n        setMinutes(min => min + 1);\r\n        setSeconds(0);\r\n      }\r\n      if (min == 60) {\r\n        setHours(hours => hours + 1);\r\n        setMinutes(0);\r\n        setSeconds(0);\r\n\r\n      }\r\n\r\n      interval = setInterval(() => {\r\n        setSeconds(seconds => seconds + 1);\r\n      }, 1000);\r\n    } else if (!props.timerState && seconds !== 0) {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\nuseEffect(() => {\r\n    \r\n    \r\n    calculateTime();\r\n\r\n    return () => {\r\n        if(!props.timerState){\r\n        clearInterval(interval);\r\n        //console.log(\"Timer Interval Cleared\")\r\n        }\r\n    }\r\n  }, [props.timerState]);\r\n\r\nreturn (\r\n<React.Fragment>\r\n    {(hr<10 || hr==0) ? '0'+hr:hr}:{(min<10 || min==0) ? '0'+min:min}:{(seconds<10 || seconds==0) ? '0'+seconds:seconds}\r\n</React.Fragment>\r\n);\r\n\r\n}","import React, { useEffect, useState, } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Avatar,\r\n  IconButton,\r\n  Typography,\r\n  CardHeader,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport RingingInIcon from \"@material-ui/icons/ArrowForward\";\r\nimport RingingOutIcon from \"@material-ui/icons/ArrowBack\";\r\nimport LineIcon from \"@material-ui/icons/Remove\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport DialIcon from \"@material-ui/icons/Phone\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {agentStatuses } from \"./constants.js\";\r\nimport TimerComponent from \"./TimerComponent.jsx\";\r\n\r\n\r\nvar inComingCall = false;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    divider: {\r\n        backgroundColor:\"white\",\r\n        marginBottom:\"5px\",\r\n    },\r\n  }));\r\n  \r\n  var callID = null; \r\n  var answerBtn = false;\r\n  var hangupBtn = false;\r\nconst onTelephonyVoipChangedEvent = function(event)\r\n{\r\n  console.log(\"Telephony Voip State Changed Event\"+\"ID: \"+event.detail.id+\" Status:\"+event.detail.status.value+\" Type:\"+event.detail.type.value);\r\n  if(event.detail.status.value=='incommingCall' && event.detail.type.value==\"Phone\")\r\n  {\r\n    callID = event.detail;\r\n   // console.log(\"Call ID is: \"+callID);\r\n    answerBtn = true;\r\n    hangupBtn = false;\r\n    //rainbowSDK.webRTC.answerInAudio(event.detail);\r\n  }\r\n  //if(event)\r\n}\r\nconst onTelephonyChangedEvent = function(event)\r\n{\r\n  console.log(\"Telephony State Changed Event\"+\"ID: \"+event.detail.id+\" Status:\"+event.detail.status.value+\" Type:\"+event.detail.type.value);\r\n  if(event.detail.status.value=='incommingCall' && event.detail.type.value==\"Phone\")\r\n  {\r\n    callID = event.detail;\r\n    console.log(\"Call ID is: \"+callID);\r\n    //rainbowSDK.webRTC.answerInAudio(event.detail);\r\n  }\r\n  if(event.detail.status.value==\"active\" && event.detail.type.value==\"Phone\")\r\n  {\r\n      callID = event.detail;\r\n      answerBtn = false;\r\n      hangupBtn = true;\r\n\r\n  }\r\n  if(event.detail.status.value == \"Unknown\" && event.detail.type.value==\"Phone\")\r\n  {\r\n    //callID = null;\r\n    answerBtn = false;\r\n    hangupBtn = false;\r\n  }\r\n  \r\n}\r\n\r\nexport default function AgentStateCard(props) {\r\n    \r\n    const classes = useStyles();\r\n     \r\n    window.props = props;\r\n    const [timerState, setTimerState] = useState(false);\r\n    \r\n   \r\n\r\n    useEffect(() => {\r\n        if(props.state.AgentState == agentStatuses.Non_Acd_Busy || props.state.AgentState == agentStatuses.ACD_Busy || props.state.AgentState == agentStatuses.ACD_Busy_Callback)\r\n            setTimerState(true);\r\n            //timerState = true;\r\n        return () => {\r\n\r\n            setTimerState(false);\r\n            //timerState = false;\r\n        }\r\n    }, [props.state.AgentState]);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(rainbowSDK.telephony.RAINBOW_ONTELEPHONYCALLSTATECHANGED, onTelephonyChangedEvent);\r\n        document.addEventListener(rainbowSDK.telephony.RAINBOW_ONVOIPCALLSTATECHANGED, onTelephonyVoipChangedEvent);\r\n    },[]);\r\n    \r\n    return(\r\n        <Card raised=\"true\" style={{backgroundColor:'#757575'}}>\r\n        {\r\n        (props.state.AgentState==agentStatuses.Not_Available || props.state.AgentState==agentStatuses.Temp_Absent) &&(\r\n            <CardHeader \r\n            avatar={<Avatar style={{backgroundColor:'red'}}>                      \r\n                            <LineIcon/>\r\n                        </Avatar>}\r\n                        title={\r\n                        <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Unavailable\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                        </Typography>\r\n                        }\r\n                        subheader={\r\n                            <>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.Name}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.AgentExtension}\r\n                            </Typography>\r\n                            </>\r\n                        }\r\n            />) ||\r\n        (props.state.AgentState==agentStatuses.Idle || props.state.AgentState==agentStatuses.Available) &&(\r\n        <CardHeader \r\n        avatar={<Avatar style={{backgroundColor:'green'}}>                      \r\n                        <CheckIcon/>\r\n                    </Avatar>}\r\n                    title={\r\n                    <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                        Available\r\n                        <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                    </Typography>\r\n                    }\r\n                    subheader={\r\n                    <>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        {props.state.Name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        {props.state.AgentExtension}\r\n                    </Typography>\r\n                    </>\r\n                    }\r\n        />) ||\r\n        (props.state.AgentState==agentStatuses.Clerical_Work) &&(\r\n            <CardHeader \r\n            avatar={<Avatar style={{backgroundColor:'blue'}}>                      \r\n                            <LineIcon/>\r\n                        </Avatar>}\r\n                        title={\r\n                        <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Preparation\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                        </Typography>\r\n                        }\r\n                        subheader={\r\n                            <>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.Name}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                {props.state.AgentExtension}\r\n                            </Typography>\r\n                            </>\r\n                        }\r\n            />) ||\r\n            (props.state.AgentState==agentStatuses.Ringing_IN_ACD || props.state.AgentState==agentStatuses.Ringing_IN_ACD_Callback) &&(\r\n                <CardHeader \r\n                avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                <RingingInIcon/>\r\n                            </Avatar>}\r\n                    action ={<React.Fragment><IconButton onClick={()=>{rainbowSDK.telephony.answer(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'green'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                            title={\r\n                            <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                Ringing\r\n                                <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                            </Typography>\r\n                            }\r\n                            subheader={\r\n                                <>\r\n                                <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                    {props.groupCR.GroupName}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                    Duration 00:00:00\r\n                                </Typography>\r\n                                </>\r\n                            }\r\n                />) ||\r\n                (props.state.AgentState==agentStatuses.Non_Acd_Ringing || props.state.AgentState==agentStatuses.Busy_OutboundCall) &&(\r\n                    <CardHeader \r\n                    avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                    {props.state.Direction=='I' ? <RingingInIcon/> : <RingingOutIcon/>}\r\n                                </Avatar>}\r\n                    action ={(props.state.Direction=='I') && (<React.Fragment><IconButton onClick={()=>{rainbowSDK.telephony.answer(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'green'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>)}\r\n                                title={\r\n                                <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                    Ringing\r\n                                    <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                </Typography>\r\n                                }\r\n                                subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Internal\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration 00:00:00\r\n                                    </Typography>\r\n                                    </>\r\n                                }\r\n                    />) ||\r\n                (props.state.AgentState==agentStatuses.ACD_Busy || props.state.AgentState==agentStatuses.ACD_Busy_Callback) &&(\r\n                    <CardHeader \r\n                    avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                    <CheckIcon/>\r\n                                </Avatar>}\r\n                    action ={<React.Fragment><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton onClick={()=>{rainbowSDK.telephony.release(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'red'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                                title={\r\n                                <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                    Connected\r\n                                    <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                </Typography>\r\n                                }\r\n                                subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.groupCR.GroupName}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration <TimerComponent timerState={timerState}/>\r\n                                    </Typography>\r\n                                    </>\r\n                                }\r\n                    />)||\r\n                    (props.state.AgentState==agentStatuses.Non_Acd_Busy) &&(\r\n                        <CardHeader \r\n                        avatar={<Avatar style={{backgroundColor:'orange'}}>                      \r\n                                        <CheckIcon/>\r\n                                    </Avatar>}\r\n                        action ={<React.Fragment><IconButton style={{padding:'10px'}}><Avatar style={{backgroundColor:'grey'}}><DialIcon style={{color:'white'}}/></Avatar></IconButton><IconButton onClick={()=>{rainbowSDK.telephony.release(callID).then(()=>{});}} style={{padding:'10px'}}><Avatar style={{backgroundColor:'red'}}><CallEndIcon style={{color:'white'}}/></Avatar></IconButton></React.Fragment>}   \r\n                                    title={\r\n                                    <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                                        Connected\r\n                                        <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                                    </Typography>\r\n                                    }\r\n                                    subheader={\r\n                                        <>\r\n                                        <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                            Internal\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        Duration <TimerComponent timerState={timerState}/>\r\n                                        </Typography>\r\n                                        \r\n                                        </>\r\n                                    }\r\n                        />)||\r\n                        (<CardHeader avatar={\r\n                            <Avatar style={{backgroundColor:'green'}}>                      \r\n                                <CheckIcon/>\r\n                            </Avatar>}\r\n                            title={\r\n                            <Typography variant=\"h6\" style={{color:\"white\"}}>\r\n                            Available\r\n                            <Divider variant=\"fullWidth\" className={classes.divider}/>\r\n                            </Typography>\r\n                                    }\r\n                                    subheader={\r\n                                    <>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.state.Name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                                        {props.state.AgentExtension}\r\n                                    </Typography>\r\n                                    </>\r\n                                    }\r\n                        />\r\n                    )\r\n        }\r\n        <CardContent>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n}","import React, { useEffect, useState, } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  Button,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  FormGroup,\r\n  Switch,\r\n  IconButton,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport QueueIcon from \"@material-ui/icons/FormatListBulleted\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiDialog-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  btnDiv: {\r\n    display: 'flex',\r\n    padding: theme.spacing(2), \r\n    width:\"70%\",\r\n    justifyContent:'center',\r\n\r\n  },\r\n  button: {\r\n\r\n    width:\"50%\",\r\n    margin: theme.spacing(1),\r\n\r\n  },\r\n}));\r\n\r\nexport default function QueuesDialog(props) {\r\n    \r\n    //console.log(\"Inside Dialog\");\r\n    //console.log(props);\r\n    const classes = useStyles();\r\n    //const { onClose, state, open } = props;\r\n    const groupState = [...props.state];\r\n    const [isChecked,setChecked] = useState([...groupState])\r\n   \r\n    useEffect(()=>{\r\n            setChecked([...groupState]);\r\n            //console.log(\"Group Set in UseEffect\");\r\n    },[props.open]);\r\n\r\n    const handleClose = () => {\r\n      props.onClose(isChecked);\r\n    };\r\n    \r\n    const handleSwitchChange = (event) => {\r\n        groupState[event.target.name].IsAvailable = event.target.checked;\r\n        setChecked([...groupState]);\r\n        //console.log(isChecked);\r\n        //onClose(value);\r\n    };\r\n       \r\n    return (\r\n        <Dialog onClose={handleClose} aria-labelledby=\"dialog-title\" open={props.open} fullWidth maxWidth=\"xs\" className={classes.root}>\r\n        <DialogTitle id=\"dialog-title\" style={{textAlign:'center'}}>\r\n        <IconButton>\r\n            <QueueIcon fontSize=\"large\" style={{color:\"#0288d1\"}}/>\r\n          </IconButton>\r\n        <Typography variant=\"h5\" style={{color:\"#0288d1\"}}>\r\n        AGENT QUEUES\r\n        </Typography>\r\n        </DialogTitle>\r\n        <FormControl component=\"fieldset\" style={{alignItems:'center'}}>\r\n            <FormGroup>\r\n               {isChecked.map((group,index)=> (\r\n                <Typography component=\"div\" style={{display:'flex', justifyContent:'space-between'}}>\r\n                <span style={{paddingRight:'2em'}}>{group.Name}</span>\r\n                <Switch checked={group.IsAvailable} onChange={handleSwitchChange} name={index}/>\r\n                </Typography>\r\n                ))}\r\n            </FormGroup>\r\n            <div className={classes.btnDiv}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(isChecked)}} className={classes.button}>Save</Button>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(null)}} className={classes.button}>Close</Button>\r\n            </div>\r\n        </FormControl>\r\n        </Dialog>\r\n    );\r\n}","import React, {useState} from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  Button,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport UnavailableIcon from \"@material-ui/icons/RemoveCircle\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiDialog-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  formControl: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(1),\r\n  },\r\n  button: {\r\n\r\n    width:\"50%\",\r\n    margin: theme.spacing(1),\r\n\r\n  },\r\n  selectEmpty: {\r\n      marginTop: theme.spacing(1),\r\n  },\r\n  btnDiv: {\r\n    display: 'flex',\r\n    padding: theme.spacing(2), \r\n    width:\"90%\",\r\n    justifyContent:'center',\r\n\r\n  }\r\n}));\r\n\r\nexport default function UnavailableDialog(props) {\r\n    \r\n    \r\n    const classes = useStyles();\r\n    const [age, setAge] = React.useState('');\r\n\r\n    const absenseReasons = props.settings;\r\n    const [selected,setSelected] = useState('');\r\n    //window.absenseReasons = absenseReasons;\r\n    // useEffect(()=>{\r\n\r\n    //         //setReason([...absenseReasons]);\r\n    //         //console.log(\"Group Set in UseEffect\");\r\n    // },[props.open]);\r\n\r\n    const handleClose = () => {\r\n      props.onClose(selected);\r\n    };\r\n    \r\n    const handleChange = (event) => {\r\n       \r\n        setSelected(event.target.value);\r\n      //console.log(isChecked);\r\n        //onClose(value);\r\n    };\r\n       \r\n    return (\r\n        <Dialog onClose={()=>handleClose()} aria-labelledby=\"dialog-title\" open={props.open} fullWidth maxWidth=\"xs\" className={classes.root}>\r\n        <DialogTitle id=\"dialog-title\" style={{textAlign:'center'}}>\r\n          <IconButton>\r\n            <UnavailableIcon fontSize=\"large\" style={{color:\"#0288d1\"}}/>\r\n          </IconButton>\r\n        <Typography variant=\"h5\" style={{color:\"#0288d1\"}}>\r\n        AVAILABILITY\r\n        </Typography>\r\n        </DialogTitle>\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <Select\r\n          labelId=\"absense-reason\"\r\n          id=\"absensereason\"\r\n          value={selected}\r\n          onChange={handleChange}\r\n          label=\"AbsenseReason\"\r\n        >\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          {absenseReasons.map((item) => (\r\n            <MenuItem value={item}>{item}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      <div className={classes.btnDiv}> \r\n      <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose(selected)}} className={classes.button}>Set</Button>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={()=>{props.onClose('')}} className={classes.button}>Cancel</Button>\r\n      </div>\r\n      </FormControl>\r\n       </Dialog>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    InputLabel,\r\n    Avatar,\r\n    Typography,\r\n    CardHeader,\r\n    Select,\r\n    MenuItem,\r\n    FormControl\r\n  } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {agentStatuses } from \"./constants.js\";\r\nimport QuestionMarkIcon from \"@material-ui/icons/Help\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        width:\"250px\",\r\n        //padding:theme.spacing(1),\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n\r\n  var outComes=null;\r\n  var primaryOutComeTitle = null;\r\n  var secondaryOutComeTitle = null;\r\n  let callOutCome,setCallOutCome;\r\n  let initOutCome = {primaryOutCome:'',secondaryOutCome:''};\r\n  export default function SetOutComes(props) {\r\n    const classes = useStyles();\r\n    [callOutCome, setCallOutCome] = useState(initOutCome);\r\n    \r\n    outComes = [...props.outComeData.SettingsACD.PrimaryOutComes];\r\n    primaryOutComeTitle = props.outComeData.SettingsACD.PrimaryOutcomeTitle;\r\n    secondaryOutComeTitle  = props.outComeData.SettingsACD.SecondaryOutcomeTitle;\r\n    //console.log(props.callOutCome.enable);\r\n    //window.outComes = outComes;\r\n    const handlePrimaryChange = (event) => {\r\n       //props.updateOutCome({...props.callOutCome,PrimaryOutCome:event.target.value});\r\n      setCallOutCome({...callOutCome, primaryOutCome:event.target.value});\r\n       // getSecondaryOutComes();\r\n    };\r\n    const handleSecondaryChange = (event) => {\r\n        //props.updateOutCome({...props.callOutCome,SecondaryOutCome:event.target.value});\r\n        setCallOutCome({...callOutCome, secondaryOutCome:event.target.value});\r\n     };\r\n\r\n     useEffect(() => {\r\n        console.log(\"SETOUTCOMES USE EFFECT\");\r\n        props.onChange(callOutCome);\r\n\r\n     },[callOutCome]);\r\n    const getSecondaryOutComes = () =>{\r\n        if(outComes[0].Title != '' && callOutCome.primaryOutCome != ''){\r\n        const soc = outComes.filter(({Title})=> Title===callOutCome.primaryOutCome)[0].SecondaryOutComes;\r\n  \r\n            return(\r\n                soc.map(({Title}) => (\r\n               <MenuItem value={Title}>{Title}</MenuItem>))\r\n               )\r\n        }\r\n        \r\n    };\r\n\r\n\r\n    return(\r\n        <Card raised=\"true\" style={{backgroundColor:'#757575'}}>\r\n            <CardHeader \r\n            avatar = {<Avatar>\r\n            <QuestionMarkIcon style={{fontSize:\"50px\", color:'#242526'}}/>\r\n            </Avatar>\r\n            }\r\n             title={<><div>\r\n                <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"poc\">Reason for Call</InputLabel>\r\n                <Select\r\n                labelId=\"outcome\"\r\n                id=\"callreason\"\r\n                onChange={handlePrimaryChange}\r\n                label=\"Call Outcome\"\r\n                style={{fontSize:'12px'}}\r\n                >\r\n                {outComes.map(({Title}) => (\r\n                    <MenuItem value={Title}>{Title}</MenuItem>\r\n                ))}\r\n                </Select>\r\n                </FormControl>\r\n                </div>\r\n                <div>\r\n                <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"soc\">Sub Reason</InputLabel>\r\n                <Select\r\n                labelId=\"soutcome\"\r\n                id=\"subreason\"\r\n                onChange={handleSecondaryChange}\r\n                label=\"SCall Outcome\"\r\n                style={{fontSize:'12px'}}\r\n                >\r\n                {getSecondaryOutComes()}\r\n                </Select>\r\n                </FormControl>\r\n                </div></>\r\n             }\r\n             />\r\n      </Card>\r\n    );\r\n  }","import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Snackbar,\r\n  DialogTitle,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { jsMessageType, agentStatuses } from \"./constants.js\";\r\nimport { Context } from \"../Context.js\";\r\nimport {\r\n  sendMsgToServer,\r\n  getMsgFromServer,\r\n  messageQueue,\r\n} from \"./helperfunctions.js\";\r\nimport {SettingsACD, AgentState, LoginResponse,GroupCallRinging, AgentGroupInfo, CallDetails} from \"./objects.js\"\r\nimport AgentStateCard from \"./AgentStateCard\";\r\nimport QueuesDialog from \"./QueuesDialog\";\r\nimport UnavailableDialog from \"./UnavailableDialog\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport UnavailableIcon from \"@material-ui/icons/RemoveCircle\";\r\nimport QueueIcon from \"@material-ui/icons/FormatListBulleted\";\r\nimport HandIcon from \"@material-ui/icons/PanTool\";\r\nimport TimerIcon from \"@material-ui/icons/Timer\";\r\nimport SetOutComes from \"./SetOutComes.jsx\";\r\n\r\nvar myChannelObject = null;\r\nvar myChannelID = \"\";\r\nvar myExtension = \"\";\r\nvar LoggedInAcdServer = 0;\r\nvar LoggedInAcdServerTime = \"\";\r\nvar timerId;\r\nvar Current_AgentState = AgentState;\r\nvar outComeEnable = false;\r\nvar primaryOC = '';\r\nvar secondaryOC = '';\r\nvar currentCallDetail = CallDetails;\r\nconst initialValue={primaryOutCome:'',secondaryOutCome:''};\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    //width: '90%',\r\n  },\r\n  Card_RH: {\r\n    backgroundColor:'#0288d1',\r\n    justifyContent:'center',\r\n    textAlign:'center'\r\n  },\r\n  Card_Queues: {\r\n    backgroundColor:'#0288d1',\r\n    justifyContent:'center',\r\n    textAlign:'center',\r\n  },\r\n}));\r\n\r\n\r\nexport default function VurellaACD() {\r\n  //console.log(\"VurellaACD Function Fired\");\r\n  \r\n  const [userAccount, setUserAccount] = useContext(Context);\r\n  const [agentState, setAgentState] = useState(AgentState);\r\n  const [groupCallRinging, setGroupCallRinging] = useState(GroupCallRinging);\r\n  const [loginResponse, setLoginResponse] = useState(LoginResponse);\r\n  const [agentGroups, setAgentGroups] = useState([AgentGroupInfo]);\r\n  const [callOutCome, setCallOutCome] = useState(initialValue);\r\n  const [raiseHand,setRaiseHand] = useState(false);\r\n  const [openQueueDialog,setOpenQueueDialog] = useState(false);\r\n  const [openUnavailableDialog,setOpenUnavailableDialog] = useState(false);\r\n  const [absenseReasons, setAbsenseReasons] = useState([]);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [countDown, setCountDown] = useState(\"00\");\r\n  const classes = useStyles();\r\n  \r\n  \r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  ////////////////////////////////START COMPONENT LOGIC FUNCTIONS///////////////////////////////\r\n\r\nconst onChannelMessageReceived = () => {\r\n    let d = new Date();\r\n    console.log(\"CHANNEL MESSAGE RECIEVED EVENT @ \" + d.toLocaleString());\r\n    if (myChannelID != null) {\r\n      getMsgFromServer(myChannelID).then(() => processMessageQueue());\r\n      \r\n    }\r\n  };\r\n\r\nconst loginVACD = () => {\r\n    if (myExtension != null) {\r\n      Current_AgentState = AgentState;\r\n      let extension = myExtension;\r\n      if(LoggedInAcdServer==0)\r\n      {\r\n      LoggedInAcdServer = 1;\r\n      rainbowSDK.channels\r\n        .fetchChannelsByName(\"vACD_\" + extension)\r\n        .then(function (res) {\r\n          if (res.length > 0) {\r\n            //window.res = res;\r\n            myChannelObject = res[0];\r\n            myChannelID = res[0].id;\r\n            rainbowSDK.channels.subscribeToChannelById(res[0].id).then((res)=>{\r\n              var mesg = {\r\n                Type: jsMessageType.LOGIN,\r\n                Value: {\r\n                  UFID: \"\",\r\n                  Username: extension,\r\n                  PhoneExtension: extension,\r\n                  Password: extension,\r\n                  IsSuperVisor: \"false\",\r\n                },\r\n                CreationTime: \"\",\r\n              };\r\n              console.log(\"Channel Subscribed\");\r\n              //console.log(\"ChannelID:\"+myChannelID+\" extension:\"+extension+\" mesg:\"+mesg)\r\n              setUserAccount((userAccount) => ({...userAccount,channelobject:myChannelObject,channelid:myChannelID}));\r\n              sendMsgToServer(myChannelObject, mesg);\r\n              \r\n              })\r\n              .catch((err)=>{\r\n                  console.log(\"Error Subscribing to Channel\");\r\n                  LoggedInAcdServer = 0;\r\n                  \r\n              });\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          setErrorMsg(\"Vurella ACD configuration mismatch\");\r\n          LoggedInAcdServer = 0;\r\n          \r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\nconst processMessageQueue = () => {\r\n  while (messageQueue.length > 0) {\r\n    //window.messageQueue[0] = messageQueue[0];\r\n    try {\r\n      var serverResponse = messageQueue[0].entry.message;\r\n      //console.log(serverResponse);\r\n      if (serverResponse.search(\"#SERVER#\") == -1) {\r\n        console.log(\"No Server Response in Channel\");\r\n        messageQueue.shift(); //Empty any AGENT Messages in Queue\r\n      } \r\n      else {\r\n        let jsonMessage = JSON.parse(serverResponse.slice(8));\r\n        let d = new Date();\r\n        \r\n        if (jsonMessage.Type == jsMessageType.LOGIN_RESPONSE_AGENT) {\r\n          //window.jsonMessage = jsonMessage;\r\n          console.log(\"ACD Login Response \" + jsonMessage.Value.IsSuccess +\" @ \" + d.toLocaleString());\r\n              if(jsonMessage.Value.IsSuccess==true)\r\n              {\r\n                LoggedInAcdServer = 2;\r\n                LoggedInAcdServerTime = new Date(messageQueue[0].timestamp);\r\n                setUserAccount((userAccount) => ({...userAccount,acdloggedin: true}));\r\n                setLoginResponse({...jsonMessage.Value});\r\n                Current_AgentState = jsonMessage.Value.AgentStatus;\r\n                setAgentState({...jsonMessage.Value.AgentStatus});\r\n                setAbsenseReasons([...jsonMessage.Value.SettingsACD.AbsenseReasons]);\r\n                \r\n                if(jsonMessage.Value.AgentStatus.AgentState == agentStatuses.Clerical_Work)\r\n                CountDownTimer(jsonMessage.Value.AgentStatus.WrapUp_Remaining);\r\n\r\n                var mesg = {\r\n                  Type: jsMessageType.HRT_BEAT,\r\n                  Value: \"\",\r\n                  CreationTime: \"\",\r\n                };\r\n                clearTimeout(timerId);\r\n                timerId = setTimeout(function HRT_BEAT() {\r\n                sendMsgToServer(myChannelObject,mesg);\r\n                timerId = setTimeout(HRT_BEAT, 10000); // (*)\r\n                }, 10000);\r\n              }\r\n          \r\n          else\r\n          LoggedInAcdServer = 0;\r\n        }\r\n        \r\n        if (jsonMessage.Type == jsMessageType.AGENT_STATE) {\r\n          //console.log(loginResponse.PhoneExtension);\r\n            let d = new Date(messageQueue[0].timestamp);\r\n           // console.log(\"Inside Agent State If\");\r\n            if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n            {\r\n           // console.log(\"Inside Agent State Logged In true If\")\r\n                if(Current_AgentState.AgentState != jsonMessage.Value.AgentState || Current_AgentState.RaiseHand != jsonMessage.Value.RaiseHand || Current_AgentState.Name != jsonMessage.Value.Name || Current_AgentState.OtherParty != jsonMessage.Value.OtherParty || Current_AgentState.LastGroupName != jsonMessage.Value.LastGroupName || Current_AgentState.LastGroupNumber != jsonMessage.Value.LastGroupNumber)\r\n                {\r\n                  \r\n                 //console.log(\"INSIDE AGENT IF COMPARING PREVIOUS WITH NEW STATE\");\r\n                    if(Current_AgentState.AgentState==agentStatuses.ACD_Busy && jsonMessage.Value.AgentState==agentStatuses.Clerical_Work)\r\n                    {\r\n                      //setCallOutCome((callOutCome)=>({...callOutCome,myenable:true}));\r\n                      outComeEnable=true;\r\n                   //   console.log(\"My Enable Value After setting true: \"+callOutCome.myenable);\r\n                      let endTime = new Date();\r\n                      currentCallDetail.EndTime = endTime.toLocaleString();\r\n                      //setCallDetails ({...callDetails, EndTime:endTime.toLocaleTimeString()})\r\n\r\n                    }\r\n                    if(Current_AgentState.AgentState==agentStatuses.Clerical_Work && jsonMessage.Value.AgentState==agentStatuses.Idle)\r\n                    {\r\n                      \r\n                      //console.log(\"OUTSIDE IF TO HIDE CALL REASONS AND SEND MESSAGE: \"+callOutCome.myenable);\r\n                      if(outComeEnable==true)\r\n                      {\r\n                        //console.log(\"INSIDE IF TO HIDE CALL REASONS AND SEND MESSAGE\");\r\n                        \r\n                        //setCallOutCome({...callOutCome, myenable:false});\r\n                        outComeEnable=false;\r\n                        var mesg = {\r\n                          Type: jsMessageType.SET_OUTCOME,\r\n                          Value: {\r\n                            AgentExtension:myExtension,\r\n                            Name:Current_AgentState.Name,\r\n                            StartTime:currentCallDetail.StartTime,\r\n                            EndTime:currentCallDetail.EndTime,\r\n                            CLI:currentCallDetail.CLI,\r\n                            DDI:currentCallDetail.DDI,\r\n                            PrimaryOutcome:primaryOC,\r\n                            SecondaryOutcome:secondaryOC,\r\n                            IsSuccess:false,\r\n                          },\r\n                          CreationTime: \"\",\r\n                        }\r\n                        sendMsgToServer(myChannelObject,mesg);\r\n\r\n                        \r\n                      }\r\n                    }\r\n\r\n                   \r\n\r\n                    if(jsonMessage.Value.AgentState != agentStatuses.Being_Routed)\r\n                    {\r\n                        \r\n                      // window.Current_AgentState = Current_AgentState;\r\n                        console.log(\"Setting Agent State \"+jsonMessage.Value.AgentState);\r\n                        Current_AgentState = jsonMessage.Value;\r\n                        setAgentState({...jsonMessage.Value});\r\n                    }\r\n                    \r\n                    if(jsonMessage.Value.AgentState == agentStatuses.Clerical_Work)\r\n                    {\r\n                    CountDownTimer(jsonMessage.Value.WrapUp_Remaining);\r\n                    }\r\n                }\r\n            }\r\n          //else console.log(\"Stale Message\");\r\n        }\r\n        if (jsonMessage.Type == jsMessageType.GROUP_CALL_RINGING) {\r\n        \r\n            let d = new Date(messageQueue[0].timestamp);\r\n            if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n            {\r\n                console.log(\"Group Call Ringing Message\");\r\n                setGroupCallRinging({...jsonMessage.Value});\r\n\r\n            }\r\n        }\r\n        if (jsonMessage.Type == jsMessageType.GROUP_CALL_CONNECTED) {\r\n        \r\n          let d = new Date(messageQueue[0].timestamp);\r\n          if (LoggedInAcdServer == 2 && LoggedInAcdServerTime - d < 0)\r\n          {\r\n              let startTime = new Date();\r\n              console.log(\"Group Call Connected Message\");\r\n              currentCallDetail.CLI = jsonMessage.Value.CallerNumber;\r\n              currentCallDetail.DDI = jsonMessage.Value.GroupNumber\r\n              currentCallDetail.StartTime = startTime.toLocaleString();\r\n              //setCallDetails({...callDetails, CLI:jsonMessage.Value.CallerNumber, DDI:jsonMessage.Value.LastGroupNumber,StartTime:d.toLocaleTimeString()})\r\n\r\n          }\r\n      }\r\n        //console.log(\"Queue MessageID: \"+jsonMessage.Type);\r\n        messageQueue.shift();\r\n        console.log(\r\n          \"Queue Item Deleted. Items In Queue = \" + messageQueue.length\r\n        );\r\n      \r\n    } \r\n  }\r\n  catch (err) {\r\n        console.log(err);\r\n        break;\r\n      }\r\n  }\r\n}\r\n\r\nconst EndWrapUp = () =>\r\n{\r\n  if(LoggedInAcdServer==2 && Current_AgentState.AgentState==agentStatuses.Clerical_Work)\r\n  {\r\n    var mesg = {\r\n      Type: jsMessageType.END_WRAPUPTIME,\r\n      Value: {Value:false, AgentExtension: Current_AgentState.AgentExtension, RemoteID: null,},\r\n      CreationTime: \"\",\r\n    };\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    console.log(\"Wrapup Message Sent\");\r\n  }\r\n\r\n}\r\n\r\nconst RaiseHand = () =>\r\n{\r\n    console.log(\"Send Raise Hand Message Called\");\r\n    if(LoggedInAcdServer==2)\r\n    {\r\n\r\n        var mesg;\r\n        if(raiseHand)\r\n        {\r\n        mesg = {\r\n            Type: jsMessageType.SET_RAISEHAND,\r\n            Value: {\r\n                AgentExtension:Current_AgentState.AgentExtension,\r\n                PhoneExtension:Current_AgentState.PhoneExtension,\r\n                RaiseHand:false,\r\n                IsAvailable:false,\r\n                UnAvilabilityReason: \"\",\r\n                AutoAnswer:false,\r\n                IsLogin:false,\r\n            },\r\n            CreationTime: \"\",\r\n          };\r\n          setRaiseHand(false);\r\n        }\r\n        else\r\n        {\r\n            mesg = {\r\n                Type: jsMessageType.SET_RAISEHAND,\r\n                Value: {\r\n                    AgentExtension:Current_AgentState.AgentExtension,\r\n                    PhoneExtension:Current_AgentState.PhoneExtension,\r\n                    RaiseHand:true,\r\n                    IsAvailable:false,\r\n                    UnAvilabilityReason: \"\",\r\n                    AutoAnswer:false,\r\n                    IsLogin:false,\r\n                },\r\n                CreationTime: \"\",\r\n              };\r\n              setRaiseHand(true);\r\n        }\r\n\r\n        sendMsgToServer(myChannelObject,mesg);\r\n    }\r\n\r\n}\r\nconst sendAgentGroupsMsg = (Groups) =>{\r\n    console.log(\"sendagentgroups function\")\r\n    //var Groups = JSON.stringify(groups);\r\n    var mesg = {\r\n        Type: jsMessageType.SET_AGENT_QUEUES_AVAILABILITY,\r\n        Value: {Groups, AgentExtension: Current_AgentState.AgentExtension, RemoteID: null,},\r\n        CreationTime: \"\",\r\n    }\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    //console.log(JSON.stringify(mesg));\r\n}\r\n\r\nconst sendUnavailableMsg = (status) =>{\r\n    console.log(\"sendaUnavailable function\")\r\n    //var Groups = JSON.stringify(groups);\r\n    if(status != '')\r\n    {\r\n        var mesg = {\r\n            Type: jsMessageType.SET_AVAILABILITY,\r\n            Value: {AgentExtension: Current_AgentState.AgentExtension,PhoneExtension:Current_AgentState.PhoneExtension,RaiseHand:false,IsAvailable:false,UnAvailabilityReason:status,AutoAnswer:false,IsLogin:false,},\r\n            CreationTime: \"\",\r\n        }\r\n    }\r\n    else\r\n    {\r\n        var mesg = {\r\n            Type: jsMessageType.SET_AVAILABILITY,\r\n            Value: {AgentExtension: Current_AgentState.AgentExtension,PhoneExtension:Current_AgentState.PhoneExtension,RaiseHand:false,IsAvailable:true,UnAvailabilityReason:'',AutoAnswer:false,IsLogin:false,},\r\n            CreationTime: \"\",\r\n        }\r\n    }\r\n    sendMsgToServer(myChannelObject,mesg);\r\n    //console.log(JSON.stringify(mesg));\r\n}\r\n\r\nconst CountDownTimer = (counter) =>\r\n{\r\n  var lbl = counter;\r\n  //console.log(\"Counter Value\"+ counter);\r\n  var x = setInterval(function() {\r\n    \r\n    if(counter<10)\r\n    lbl=\"0\"+counter;\r\n    else\r\n    lbl=counter;\r\n\r\n    setCountDown(lbl);\r\n    counter--;\r\n    if(counter<0)\r\n    clearInterval(x);\r\n  },1000);\r\n}\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  /////////////////////////////////// END COMPONENT LOGIC///////////////////////////////////////\r\n  \r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  /////////////////////////////////// START UI LOGIC FUNCTIONS//////////////////////////////////\r\n   \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n\r\n  const handleClickOpenQueue = () => {\r\n    //console.log(\"Open Dialog Function\");\r\n    setAgentGroups([...Current_AgentState.AssociatedGroups]);\r\n    setOpenQueueDialog(true);\r\n  };\r\n\r\n  const handleCloseQueue = (value) => {\r\n    //console.log(\"Close Dialog Function\");\r\n    //console.log(value);\r\n    if(value != null)\r\n    {\r\n    setAgentGroups([...value]);\r\n    sendAgentGroupsMsg(value);\r\n    }\r\n    setOpenQueueDialog(false);\r\n  };\r\n\r\n  const handleClickOpenUnavailable = () => {\r\n      if(Current_AgentState.IsAvailable)\r\n        setOpenUnavailableDialog(true);\r\n      else\r\n      sendUnavailableMsg('');\r\n  }\r\n\r\n  const handleCloseUnavailable = (value) => {\r\n      if(value !=null && value !='')\r\n      {\r\n        console.log(\"sent unavailable message\");\r\n      sendUnavailableMsg(value);\r\n      }\r\n\r\n      setOpenUnavailableDialog(false);\r\n  }\r\n\r\n  const handleChangeOutCome = (value) => {\r\n    //console.log(\"RETURNED OUTCOME TO VURELLA_ACD IS: \"+value.primaryOutCome+\"-:-\"+value.secondaryOutCome);\r\n    setCallOutCome((callOutCome) => ({...callOutCome,...value}))\r\n\r\n  }\r\n\r\n   /////////////////////////////////// //END UI LOGIC///////////////////////////////////////////\r\n  //////////////////////////////////////////////////////////////////////////////////////////////\r\n  useEffect(()=> {\r\n    console.log(\"Call OutCome UseEffect Fired\");\r\n    primaryOC = callOutCome.primaryOutCome;\r\n    secondaryOC = callOutCome.secondaryOutCome;\r\n  },[callOutCome])\r\n  \r\n  useEffect(() => {\r\n    console.log(\"Vurella ACD UseEffect Called\");\r\n    myExtension = userAccount.extension;\r\n    //myChannelName = userAccount.channelname;\r\n    //window.userAccount.acdloggedin = userAccount.acdloggedin;\r\n    \r\n      if (userAccount.acdloggedin == false && LoggedInAcdServer==0) {\r\n        document.addEventListener(rainbowSDK.channels.RAINBOW_ONCHANNELMESSAGERECEIVED,onChannelMessageReceived);\r\n        loginVACD();\r\n        console.log(\"LOGIN ACD CALLED\");\r\n      }\r\n    return function cleanup() {\r\n      \r\n      //LoggedInAcdServer = false;\r\n      if(userAccount.acdloggedin==null)\r\n      {\r\n      console.log(\"HeartBeat Timer Cleared\");\r\n      LoggedInAcdServer = 0;\r\n      clearTimeout(timerId);\r\n      }\r\n    };\r\n  }, [userAccount.acdloggedin]);\r\n  \r\n  return (\r\n    <Grid container spacing={2} className ={classes.root} >\r\n        <Grid item xs={12}>\r\n          {!outComeEnable && (<AgentStateCard state={agentState} groupCR={groupCallRinging}/>)}\r\n          {outComeEnable && (<SetOutComes outComeData={loginResponse} onChange={handleChangeOutCome}/>)}\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_RH} disabled={agentState.AgentState==agentStatuses.Clerical_Work ? false:true} style={{backgroundColor:(agentState.AgentState==agentStatuses.Clerical_Work ? '#0288d1':'#d3d3d3'), cursor:(agentState.AgentState==agentStatuses.Clerical_Work ? 'pointer':'default')}}>\r\n                <CardContent onClick={()=>{EndWrapUp()}}>\r\n                    <IconButton aria-label=\"end-wrapup\" style={{color:\"white\"}} disabled ={agentState.AgentState==agentStatuses.Clerical_Work ? false:true}>\r\n                        <TimerIcon /> {\r\n                        ((agentState.AgentState==agentStatuses.Clerical_Work) && (<Typography variant=\"body2\" style={{color:\"white\"}}> {\"  00:\"+countDown}</Typography>)) ||\r\n                        ((agentState.AgentState!=agentStatuses.Clerical_Work) && (<Typography variant=\"body2\" style={{color:\"white\"}}> {\"  --:--\"}</Typography>))\r\n                        }\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        End Wrap-up\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_RH}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"raise-hand\" onClick={()=>{RaiseHand()}} style={{color:(raiseHand ? 'red':'white')}}>\r\n                        <HandIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Raise Hand\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_Queues}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"manage-queues\" onClick={()=>{handleClickOpenQueue()}} style={{color:'white'}}>\r\n                        <QueueIcon fontSize=\"large\"/>\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Queues\r\n                    </Typography>\r\n                    <QueuesDialog state={agentGroups} open={openQueueDialog} onClose={handleCloseQueue}/>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Card raised=\"true\" className = {classes.Card_Queues}>\r\n                <CardContent>\r\n                    <IconButton aria-label=\"set-unavailable\" onClick={()=>{handleClickOpenUnavailable()}} style={{color:'white'}}>\r\n                        <UnavailableIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"body2\" style={{color:\"white\"}}>\r\n                        Set Unavailable\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n            <UnavailableDialog settings={absenseReasons} open={openUnavailableDialog} onClose={handleCloseUnavailable}/>\r\n            <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n             <Alert onClose={handleErrorClose} severity=\"error\">\r\n              {errorMsg}\r\n             </Alert>\r\n    </Snackbar>\r\n        </Grid>\r\n    </Grid>\r\n   \r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState,useContext } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport {\r\n  IconButton,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport vurellaSM from \"../images/vurellaSM.png\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport RainbowContacts from \"./RainbowContacts.jsx\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport FontDownloadIcon from '@material-ui/icons/FontDownload';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport VurellaACD from \"./VurellaACD\";\r\nimport {Context} from \"../Context.js\";\r\nimport {sendMsgToServer} from \"./helperfunctions.js\";\r\nimport {jsMessageType} from \"./constants.js\";\r\n\r\nvar isAgentHidden = false;\r\nvar isContactsHidden = true;\r\nvar isSettingsHidden = true;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  root:{\r\n    '& .MuiAppBar-root':{\r\n      backgroundColor:'#0288d1',\r\n  },\r\n  },\r\n  bottomNav: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    bottom: '0',\r\n  },\r\n  header: {\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    width: '95%',\r\n    margin: '0 auto',\r\n    padding: '10px',\r\n    maxHeight: '80vh',\r\n  },\r\n  paper: {\r\n    //flexGrow: 1,\r\n    //padding: theme.spacing(2),\r\n    //margin: theme.spacing(2),\r\n    //color: theme.palette.text.primary,\r\n  },\r\n  menuButton: {\r\n    // marginRight: theme.spacing(10),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function Main(props) {\r\n  \r\n  const classes = useStyles();\r\n  const [userAccount, setUserAccount] = useContext(Context);\r\n  const [value, setValue] = useState('acd');\r\n  \r\n  \r\n  const signOut = () => {\r\n    \r\n    var mesg = {\r\n      Type: jsMessageType.LOGOUT,\r\n      Value: \"\",\r\n      CreationTime: \"\",\r\n      };\r\n      sendMsgToServer(userAccount.channelobject,mesg);\r\n\r\n    rainbowSDK.connection.signout().then( function (res){\r\n      console.log('Signed Out from Rainbow')\r\n      setUserAccount(userAccount=>({...userAccount,firstname:'',lastname:'',extension:'',channelobject:null,channelid:null,rainbowloggedin:false,acdloggedin:null}));\r\n      \r\n      props.onChange(false);\r\n    })\r\n    .catch((err)=>{\r\n      setUserAccount(userAccount=>({...userAccount,firstname:'',lastname:'',extension:'',channelobject:null,channelid:null,rainbowloggedin:false,acdloggedin:false}));\r\n      props.onChange(false);\r\n      console.log(err);\r\n    });\r\n    \r\n  };\r\n  \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    switch (newValue)\r\n    {\r\n        case 'acd':\r\n            {\r\n                isAgentHidden = false;\r\n                isContactsHidden = true;\r\n                isSettingsHidden = true;\r\n                break;\r\n            }\r\n        case 'contacts':\r\n            {\r\n                isAgentHidden = true;\r\n                isContactsHidden = false;\r\n                isSettingsHidden = true;\r\n                break;\r\n            }\r\n        case 'settings':\r\n            {\r\n                isAgentHidden = true;\r\n                isContactsHidden = true;\r\n                isSettingsHidden = false;\r\n                break;\r\n            }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n    <div className={classes.header}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <img src={vurellaSM} style={{ padding: \"4px 0px 0px 0px\" }}></img>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Mobile Agent\r\n          </Typography>\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"Logout\"\r\n            onClick={() => signOut()}\r\n          >\r\n            <ExitToAppIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      </div>\r\n      <div className={classes.container}>\r\n      <div hidden={isContactsHidden}> \r\n      <Paper className={classes.paper}>\r\n        <RainbowContacts></RainbowContacts>\r\n      </Paper>\r\n      </div>\r\n      <div hidden={isAgentHidden}> \r\n      <VurellaACD></VurellaACD>\r\n      </div>\r\n      </div>\r\n      <div className={classes.bottomNav}>\r\n      <BottomNavigation value={value} onChange={handleChange}>\r\n      <BottomNavigationAction label=\"ACD Agent\" value=\"acd\" icon={<FontDownloadIcon />} />\r\n      <BottomNavigationAction label=\"Contacts\" value=\"contacts\" icon={<PersonIcon />} />\r\n      <BottomNavigationAction label=\"Settings\" value=\"settings\" icon={<SettingsIcon />} />\r\n    </BottomNavigation>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useContext } from \"react\";\r\nimport rainbowSDK from \"rainbow-web-sdk\";\r\nimport \"./App.css\";\r\nimport Rainbowpresence from \"./Components/Rainbowpresence\";\r\nimport RainbowLogin from \"./Components/RainbowLogin.jsx\";\r\nimport RainbowContacts from \"./Components/RainbowContacts\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Main from \"./Components/Main.jsx\";\r\nimport { jsMessageType } from \"./Components/constants.js\";\r\nimport {Context} from \"./Context.js\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport {Snackbar} from \"@material-ui/core\";\r\n\r\n//import Context from \"./Context.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n    \"& .MuiButton-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"27ch\",\r\n    },\r\n  },\r\n \r\n}));\r\n\r\nlet onReady = function () {\r\n  console.log(\"SDK Initialized\");\r\n};\r\n\r\nfunction App() {\r\n  const [userAccount, setUserAccount] = useState({\r\n    firstname:'',\r\n    lastname:'',\r\n    extension:'',\r\n    channelobject:null,\r\n    channelid:null,\r\n    rainbowloggedin:false,\r\n    acdloggedin:null,\r\n  });\r\n  //const [userAccount, setUserAccount] = useState('AAA');\r\n  const [loginState, setLoginState] = useState(false);\r\n  const [errorOpen, setErrorOpen] = useState(false);\r\n  const [initState, setInitState] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  \r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setErrorOpen(false);\r\n  };\r\n  \r\n  /* Add window object to allow debugging from the console */\r\n  window.rainbowSDK = rainbowSDK;\r\n  \r\n  useEffect(() => {\r\n    console.log(\"*** Welcome to Rainbow Web SDK for React ***\");\r\n    //console.log(jsMessageType.LOGIN.toString());\r\n    rainbowSDK\r\n      .initialize(\r\n        \"fb92e5b0ba6d11e89693dd9cc99d33f6\",\r\n        \"Vg3v1CaHQbZQl2ELyUqtzK6wIwN8W3TBkVGhyaYZXed3aaR2ZGMAZuktiPVuaBdc\"\r\n      )\r\n      .then(function () {\r\n        //console.log(rainbowSDK.RAINBOW_ONREADY);\r\n        setInitState(true);\r\n      })\r\n      .catch((err)=> {\r\n          setErrorMsg(err.label);\r\n      });\r\n    document.addEventListener(rainbowSDK.RAINBOW_ONREADY, onReady);\r\n    rainbowSDK.load();\r\n  },[]);\r\n\r\n  const handleStateChange = newState => \r\n  {\r\n    setLoginState(newState);\r\n    setInitState(!newState);\r\n  }\r\n\r\n  return (\r\n    <Context.Provider value ={[userAccount,setUserAccount]}>\r\n    <div>\r\n      {!loginState && (\r\n        <RainbowLogin initState={initState} onChange={handleStateChange}></RainbowLogin>\r\n      )}\r\n      {loginState && (\r\n        <Main onChange={handleStateChange}></Main>\r\n      )}\r\n    </div>\r\n    <Snackbar open={errorOpen} autoHideDuration={6000} onClose={handleErrorClose}>\r\n          <Alert onClose={handleErrorClose} severity=\"error\">\r\n          Initializing Rainbow failed with error: {errorMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\ndocument.body.style= 'background-color:#BDBDBD; margin:0 auto; padding:0;';\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}